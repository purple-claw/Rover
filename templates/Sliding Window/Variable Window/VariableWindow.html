<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rover | Variable Window</title>
    <style>
        /* CSS Variables for consistent theming */
        :root {
            --primary-bg: #0d1117;
            --secondary-bg: #161b22;
            --card-bg: rgba(30, 38, 54, 0.7);
            --text-primary: #f0f6fc;
            --text-secondary: #c9d1d9;
            --text-muted: #8b949e;
            --accent-blue: #58a6ff;
            --accent-purple: #bc8cff;
            --accent-green: #3fb950;
            --accent-orange: #f78166;
            --accent-yellow: #e3b341;
            --accent-pink: #ff79c6;
            --border-color: #30363d;
            --code-bg: #1e1e1e;
            --code-comment: #6a9955;
            --code-keyword: #569cd6;
            --code-string: #ce9178;
            --code-function: #dcdcaa;
            --code-variable: #9cdcfe;
            --code-number: #b5cea8;
            --gradient-bg: linear-gradient(135deg, #0d1117 0%, #161b22 100%);
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15);
            --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.2);
            --radius-sm: 6px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --navbar-height: 60px;
            --animation-speed: 0.3s;
            --container-width: 1200px;
            
            /* Phase colors */
            --phase-expand-bg: rgba(34, 197, 94, 0.2);
            --phase-expand-color: #22C55E;
            --phase-expand-border: rgba(34, 197, 94, 0.3);
            --phase-contract-bg: rgba(239, 68, 68, 0.2);
            --phase-contract-color: #EF4444;
            --phase-contract-border: rgba(239, 68, 68, 0.3);
            --phase-update-bg: rgba(59, 130, 246, 0.2);
            --phase-update-color: #3B82F6;
            --phase-update-border: rgba(59, 130, 246, 0.3);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--gradient-bg);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            padding-bottom: 3rem;
            min-height: 100vh;
        }

        h1, h2, h3, h4, h5, h6 {
            font-weight: 600;
            margin: 1.5rem 0 1rem;
            color: var(--text-primary);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
        }

        h2 {
            font-size: 1.75rem;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 0.5rem;
            margin-top: 2.5rem;
        }

        h3 {
            font-size: 1.35rem;
            color: var(--accent-blue);
        }

        p {
            margin-bottom: 1.2rem;
            color: var(--text-secondary);
        }

        a {
            color: var(--accent-blue);
            text-decoration: none;
            transition: color var(--animation-speed) ease;
        }

        a:hover {
            text-decoration: underline;
        }

        ul, ol {
            padding-left: 2rem;
            margin-bottom: 1.5rem;
            color: var(--text-secondary);
        }

        li {
            margin-bottom: 0.5rem;
        }

        /* Container and Layout */
        .container {
            max-width: var(--container-width);
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        /* Navigation */
        nav {
            background: var(--secondary-bg);
            height: var(--navbar-height);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-sm);
            backdrop-filter: blur(8px);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
        }

        .nav-logo {
            font-weight: 700;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-logo span {
            color: var(--accent-blue);
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav-links li a {
            color: var(--text-secondary);
            font-weight: 500;
            transition: color var(--animation-speed) ease;
        }

        .nav-links li a:hover, .nav-links li a.active {
            color: var(--accent-blue);
            text-decoration: none;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(17, 24, 39, 0.9) 100%);
            border-radius: var(--radius-lg);
            padding: 3rem 2rem;
            margin: 2rem 0;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(168, 85, 247, 0.1) 100%);
            pointer-events: none;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 1rem;
            font-size: 2.75rem;
            font-weight: 800;
            letter-spacing: -0.02em;
        }

        .hero p {
            max-width: 800px;
            margin: 0 auto 1.5rem;
            font-size: 1.15rem;
            color: var(--text-secondary);
        }

        .nav-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 2rem;
        }

        .nav-button {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-purple) 100%);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-sm);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-md);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Template Sections */
        /* Template Sections */
        .template-section {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            margin-bottom: 2rem;
            overflow: hidden;
            transition: all var(--animation-speed) ease;
            box-shadow: var(--shadow-sm);
        }

        .template-section:hover {
            box-shadow: var(--shadow-md);
        }

        .template-header {
            padding: 1.5rem;
            background: linear-gradient(135deg, rgba(30, 38, 54, 0.8) 0%, rgba(22, 27, 34, 0.9) 100%);
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all var(--animation-speed) ease;
        }

        .template-header:hover {
            background: linear-gradient(135deg, rgba(48, 54, 61, 0.8) 0%, rgba(30, 38, 54, 0.9) 100%);
        }

        .template-header-left {
            display: flex;
            align-items: center;
        }

        .template-icon {
            font-size: 2rem;
            margin-right: 1rem;
            color: var(--accent-blue);
            background: rgba(88, 166, 255, 0.1);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            filter: drop-shadow(0 0 8px rgba(88, 166, 255, 0.3));
        }

        .template-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .template-subtitle {
            font-size: 0.95rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        .expand-icon {
            font-size: 1.25rem;
            color: var(--accent-blue);
            transition: transform var(--animation-speed) ease;
        }

        .template-header.active .expand-icon {
            transform: rotate(180deg);
        }

        .template-content {
            padding: 1.5rem;
        }

        /* Problem Type Box */
        .problem-type {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.6) 0%, rgba(44, 55, 74, 0.7) 100%);
            padding: 1rem 1.25rem;
            border-radius: var(--radius-md);
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--accent-blue);
            box-shadow: var(--shadow-sm);
        }

        .problem-type strong {
            color: var(--accent-blue);
            font-weight: 600;
        }

        /* Code Blocks */
        .code-container {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            margin: 1.5rem 0;
            overflow: hidden;
            box-shadow: var(--shadow-md);
        }

        .code-header {
            background: rgba(22, 27, 34, 0.8);
            padding: 0.75rem 1.25rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }

        .code-header::before {
            content: '🐍';
            margin-right: 0.75rem;
            font-size: 1.1rem;
        }

        .code-header-text {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .code-block {
            background: var(--code-bg);
            color: var(--text-primary);
            padding: 1.5rem;
            font-family: 'JetBrains Mono', 'Fira Code', 'Monaco', 'Menlo', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            overflow-x: auto;
            white-space: pre;
        }

        .code-line {
            display: block;
            position: relative;
        }

        /* Syntax Highlighting */
        .keyword {
            color: var(--code-keyword);
        }

        .function {
            color: var(--code-function);
        }

        .string {
            color: var(--code-string);
        }

        .comment {
            color: var(--code-comment);
        }

        .number {
            color: var(--code-number);
        }

        .variable {
            color: var(--code-variable);
        }

        /* Phase Badges */
        .phase-badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-sm);
            font-size: 0.75rem;
            font-weight: 600;
            margin-right: 0.5rem;
            vertical-align: top;
        }

        .phase-expand {
            background: var(--phase-expand-bg);
            color: var(--phase-expand-color);
            border: 1px solid var(--phase-expand-border);
        }

        .phase-contract {
            background: var(--phase-contract-bg);
            color: var(--phase-contract-color);
            border: 1px solid var(--phase-contract-border);
        }

        .phase-update {
            background: var(--phase-update-bg);
            color: var(--phase-update-color);
            border: 1px solid var(--phase-update-border);
        }

        /* Simulation Section */
        .simulation-section {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.7) 0%, rgba(44, 55, 74, 0.8) 100%);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-md);
        }

        .simulation-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1.25rem;
            display: flex;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 0.75rem;
        }

        .simulation-title::before {
            content: '🧪';
            margin-right: 0.75rem;
            font-size: 1.25rem;
        }

        /* Step Cards for Simulation */
        .step-card {
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            padding: 1rem;
            margin: 0.75rem 0;
            transition: all var(--animation-speed) ease;
            cursor: pointer;
            box-shadow: var(--shadow-sm);
        }

        .step-card:hover {
            background: rgba(44, 55, 74, 0.6);
            border-color: var(--accent-blue);
            transform: translateX(4px);
            box-shadow: var(--shadow-md);
        }

        .step-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }

        .step-title::before {
            content: '▶';
            color: var(--accent-blue);
            margin-right: 0.5rem;
            font-size: 0.75rem;
        }

        .step-content {
            color: var(--text-secondary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            padding-left: 1rem;
            border-left: 2px solid rgba(88, 166, 255, 0.3);
        }

        /* Result Highlight Box */
        .result-highlight {
            background: linear-gradient(135deg, rgba(5, 150, 105, 0.8) 0%, rgba(16, 185, 129, 0.8) 100%);
            color: white;
            padding: 1rem;
            border-radius: var(--radius-md);
            font-weight: 600;
            text-align: center;
            margin-top: 1rem;
            box-shadow: var(--shadow-md);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        /* Framework Section */
        .framework-section {
            background: linear-gradient(135deg, rgba(30, 27, 75, 0.8) 0%, rgba(55, 48, 163, 0.9) 100%);
            border-radius: var(--radius-lg);
            padding: 2.5rem;
            margin: 2.5rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(99, 102, 241, 0.3);
        }

        .framework-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.15) 0%, transparent 70%);
            pointer-events: none;
        }

        .framework-content {
            position: relative;
            z-index: 1;
        }

        .framework-title {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--accent-yellow) 0%, var(--accent-orange) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 4px rgba(251, 191, 36, 0.2);
        }

        /* Phase Grid Layout */
        .phase-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        /* Phase Cards */
        .phase-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-md);
            padding: 1.25rem;
            text-align: left;
            transition: all var(--animation-speed) ease;
            box-shadow: var(--shadow-sm);
        }

        .phase-card:hover {
            background: rgba(255, 255, 255, 0.12);
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .phase-card-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--accent-yellow);
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Constraint Section */
        .constraint-section {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: var(--shadow-md);
        }

        .constraint-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 1rem;
        }

        .constraint-grid {
            display: grid;
            gap: 1rem;
        }

        .constraint-item {
            background: rgba(30, 38, 54, 0.7);
            border: 1px solid var(--border-color);
            border-left: 4px solid var(--accent-blue);
            border-radius: var(--radius-sm);
            padding: 1rem;
            transition: all var(--animation-speed) ease;
        }

        .constraint-item:hover {
            background: rgba(44, 55, 74, 0.8);
            transform: translateX(4px);
            box-shadow: var(--shadow-sm);
        }

        /* Cards and Content Sections */
        .card {
            background: var(--card-bg);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
            backdrop-filter: blur(8px);
            transition: transform var(--animation-speed) ease, box-shadow var(--animation-speed) ease;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .card-header .icon {
            font-size: 1.5rem;
            color: var(--accent-blue);
            background: rgba(88, 166, 255, 0.1);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card-header h3 {
            margin: 0;
        }

        /* Callouts and Info Boxes */
        .callout {
            border-left: 4px solid var(--accent-blue);
            background: rgba(88, 166, 255, 0.1);
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: var(--radius-sm);
        }

        .callout-title {
            font-weight: 600;
            color: var(--accent-blue);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .callout p {
            margin-bottom: 0.5rem;
        }

        .callout p:last-child {
            margin-bottom: 0;
        }

        .callout.warning {
            border-left-color: var(--accent-orange);
            background: rgba(247, 129, 102, 0.1);
        }

        .callout.warning .callout-title {
            color: var(--accent-orange);
        }

        .callout.success {
            border-left-color: var(--accent-green);
            background: rgba(63, 185, 80, 0.1);
        }

        .callout.success .callout-title {
            color: var(--accent-green);
        }

        /* Constraint Styles */
        .constraint-item {
            background: rgba(30, 38, 54, 0.7);
            border: 1px solid var(--border-color);
            border-left: 4px solid var(--accent-blue);
            border-radius: var(--radius-sm);
            padding: 1rem;
            transition: all var(--animation-speed) ease;
        }

        .constraint-item:hover {
            background: rgba(44, 55, 74, 0.8);
            transform: translateX(4px);
            box-shadow: var(--shadow-sm);
        }

        .constraint-category {
            font-weight: 700;
            color: var(--accent-blue);
            margin-bottom: 0.5rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .hero {
                padding: 2rem 1rem;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 0 1rem;
            }
            
            .nav-links {
                display: none;
            }
            
            .template-title {
                font-size: 1.2rem;
            }
            
            .template-content {
                padding: 1rem;
            }
            
            .framework-section {
                padding: 1.5rem;
            }
            
            .framework-title {
                font-size: 1.5rem;
            }
            
            .phase-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Footer */
        footer {
            background: var(--secondary-bg);
            padding: 2rem 0;
            margin-top: 3rem;
            text-align: center;
            color: var(--text-muted);
            font-size: 0.9rem;
            border-top: 1px solid var(--border-color);
        }

        /* Progress bar that shows reading progress */
        .progress-container {
            width: 100%;
            height: 4px;
            background: transparent;
            position: fixed;
            top: var(--navbar-height);
            left: 0;
            z-index: 100;
        }

        .progress-bar {
            height: 4px;
            background: var(--accent-blue);
            width: 0%;
            transition: width 0.1s ease;
        }

        /* Collapsible section logic */
        .collapsible {
            display: none;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .collapsible.active {
            display: block;
        }

        /* Mastery styles are defined earlier */
    </style>
</head>
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>
    
    <!-- Navigation -->
    <nav>
        <div class="container nav-container">
            <div class="nav-logo">
                <span>Rio</span>DS Series | Variable Window Algorithm
            </div>
            <ul class="nav-links" id="navLinks">
                <li><a href="#fundamentals" class="active">Fundamentals</a></li>
                <li><a href="#templates">Templates</a></li>
                <li><a href="#framework">Framework</a></li>
                <li><a href="#simulation">Simulation</a></li>
                <li><a href="#mastery">Mastery</a></li>
            </ul>
                    <button class="hamburger-menu" id="hamburgerMenu" aria-label="Toggle navigation menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>
    </nav>
    
    <main class="container">
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <h1>Variable Window Size Algorithm</h1>
                <p>Master the art of variable-size sliding window algorithms with this interactive, step-by-step guide to solving dynamic window problems efficiently.</p>
                <div class="nav-buttons">
                    <button class="nav-button" onclick="toggleAllTemplates()">🎮 Interactive Mode</button>
                    <button class="nav-button" onclick="scrollToSection('framework')">🧠 Framework</button>
                    <button class="nav-button" onclick="scrollToSection('mastery')">🏁 Mastery</button>
                </div>
            </div>
        </section>
        
        <!-- Introduction Section -->
        <section id="fundamentals">
            <h2>Understanding Variable Window Size</h2>
            
            <div class="card">
                <div class="card-header">
                    <div class="icon">🔍</div>
                    <h3>What is a Variable Window?</h3>
                </div>
                <p>In variable window problems, the window size changes dynamically based on certain constraints. Unlike fixed window algorithms where the window size remains constant, variable window algorithms adjust their window boundaries to maintain specific conditions.</p>
                <p>This approach is particularly useful for optimization problems where we need to find the longest, shortest, or optimal subarray/substring that satisfies given constraints.</p>
            </div>
            
            <div class="callout">
                <div class="callout-title">💡 Key Concept</div>
                <p>The variable window technique allows us to efficiently find optimal subarrays or substrings by expanding and contracting a window based on problem-specific constraints.</p>
            </div>
        </section>

        <!-- Templates Section -->
        <section id="templates">
            <h2>Variable Window Templates</h2>
            
            <div class="template-section">
                <div class="template-header" onclick="toggleTemplate('template1')">
                    <div class="template-header-left">
                        <div class="template-icon">📜</div>
                        <div>
                            <div class="template-title">TEMPLATE 1: MAXIMUM LENGTH WINDOW</div>
                            <div class="template-subtitle">The Foundation Pattern</div>
                        </div>
                    </div>
                    <div class="expand-icon">▼</div>
                </div>
                
                <div id="template1" class="collapsible active">
                    <div class="template-content">
                        <div class="problem-type">
                            <strong>Problem Type:</strong> "Find the longest substring with at most K distinct characters"
                        </div>
                        
                        <p>This template finds the longest valid subarray/substring that satisfies a given constraint. It's ideal for optimization problems requiring maximum length.</p>

                        <div class="code-container">
                            <div class="code-header">
                                <div class="code-header-text">Python Implementation</div>
                            </div>
                            <div class="code-block"><span class="keyword">def</span> <span class="function">max_window_template</span>(s, k):
    <span class="phase-badge phase-expand">🧮 PHASE 1</span><span class="comment"># Initialize tracking variables</span>
    <span class="variable">left</span> = <span class="number">0</span>                     <span class="comment"># Left pointer starts at 0</span>
    <span class="variable">max_length</span> = <span class="number">0</span>               <span class="comment"># Track the maximum valid window size</span>
    <span class="variable">window_count</span> = {}            <span class="comment"># Hashmap to store character frequencies in current window</span>
    
    <span class="phase-badge phase-expand">🔄 PHASE 2</span><span class="comment"># Right pointer expands the window</span>
    <span class="keyword">for</span> <span class="variable">right</span> <span class="keyword">in</span> <span class="function">range</span>(<span class="function">len</span>(s)):   <span class="comment"># Right pointer moves from 0 to end</span>
        <span class="phase-badge phase-expand">📈 EXPAND</span><span class="comment"># Add current character to window</span>
        <span class="variable">window_count</span>[s[<span class="variable">right</span>]] = <span class="variable">window_count</span>.get(s[<span class="variable">right</span>], <span class="number">0</span>) + <span class="number">1</span>
        <span class="comment"># This adds s[right] to our window and updates its frequency</span>
        
        <span class="phase-badge phase-contract">📉 CONTRACT</span><span class="comment"># Shrink window while constraint is violated</span>
        <span class="keyword">while</span> <span class="function">len</span>(<span class="variable">window_count</span>) > k:   <span class="comment"># If we have more than k distinct characters</span>
            <span class="comment"># Remove the leftmost character from window</span>
            <span class="variable">window_count</span>[s[<span class="variable">left</span>]] -= <span class="number">1</span>
            <span class="keyword">if</span> <span class="variable">window_count</span>[s[<span class="variable">left</span>]] == <span class="number">0</span>:
                <span class="keyword">del</span> <span class="variable">window_count</span>[s[<span class="variable">left</span>]]   <span class="comment"># Clean up to maintain accurate count</span>
            <span class="variable">left</span> += <span class="number">1</span>   <span class="comment"># Move left pointer forward</span>
        
        <span class="phase-badge phase-update">🎯 UPDATE</span><span class="comment"># Current window is valid, update maximum</span>
        <span class="variable">current_window_size</span> = <span class="variable">right</span> - <span class="variable">left</span> + <span class="number">1</span>
        <span class="variable">max_length</span> = <span class="function">max</span>(<span class="variable">max_length</span>, <span class="variable">current_window_size</span>)
    
    <span class="keyword">return</span> <span class="variable">max_length</span></div>
                        </div>
                        
                        <div class="callout">
                            <div class="callout-title">🔑 Key Insight</div>
                            <p>This template follows the expand-contract pattern: we continuously expand the window to the right, and only contract it when our constraint is violated.</p>
                        </div>

                        <div class="simulation-section" id="simulation">
                            <div class="simulation-title">SIMULATION: s = "eceba", k = 2</div>
                            
                            <div class="step-card">
                                <div class="step-title">Step 0: Initial State</div>
                                <div class="step-content">String: <span class="variable">e c e b a</span>
        <span class="variable">↑</span>
left=<span class="number">0</span>, right=<span class="number">0</span>
window_count = {}
max_length = <span class="number">0</span></div>
                            </div>

                            <div class="step-card">
                                <div class="step-title">Step 1: right=0, s[right]='e'</div>
                                <div class="step-content">Add '<span class="variable">e</span>': window_count = {'<span class="variable">e</span>': <span class="number">1</span>}
distinct = <span class="number">1</span> ≤ <span class="number">2</span> → <span style="color: var(--phase-expand-color);">Valid ✅</span>
max_length = <span class="function">max</span>(<span class="number">0</span>, <span class="number">0</span>-<span class="number">0</span>+<span class="number">1</span>) = <span class="number">1</span></div>
                            </div>

                            <div class="step-card">
                                <div class="step-title">Step 2: right=1, s[right]='c'</div>
                                <div class="step-content">Add '<span class="variable">c</span>': window_count = {'<span class="variable">e</span>': <span class="number">1</span>, '<span class="variable">c</span>': <span class="number">1</span>}
distinct = <span class="number">2</span> ≤ <span class="number">2</span> → <span style="color: var(--phase-expand-color);">Valid ✅</span>
max_length = <span class="function">max</span>(<span class="number">1</span>, <span class="number">1</span>-<span class="number">0</span>+<span class="number">1</span>) = <span class="number">2</span></div>
                            </div>

                            <div class="step-card">
                                <div class="step-title">Step 3: right=2, s[right]='e'</div>
                                <div class="step-content">Add '<span class="variable">e</span>': window_count = {'<span class="variable">e</span>': <span class="number">2</span>, '<span class="variable">c</span>': <span class="number">1</span>}
distinct = <span class="number">2</span> ≤ <span class="number">2</span> → <span style="color: var(--phase-expand-color);">Valid ✅</span>
max_length = <span class="function">max</span>(<span class="number">2</span>, <span class="number">2</span>-<span class="number">0</span>+<span class="number">1</span>) = <span class="number">3</span></div>
                            </div>

                            <div class="step-card">
                                <div class="step-title">Step 4: right=3, s[right]='b'</div>
                                <div class="step-content">Add '<span class="variable">b</span>': window_count = {'<span class="variable">e</span>': <span class="number">2</span>, '<span class="variable">c</span>': <span class="number">1</span>, '<span class="variable">b</span>': <span class="number">1</span>}
distinct = <span class="number">3</span> > <span class="number">2</span> → <span style="color: var(--phase-contract-color);">VIOLATION! ❌</span> Need to contract</div>
                            </div>

                            <div class="step-card">
                                <div class="step-title">Contract Phase</div>
                                <div class="step-content">Before: window_count = {'<span class="variable">e</span>': <span class="number">2</span>, '<span class="variable">c</span>': <span class="number">1</span>, '<span class="variable">b</span>': <span class="number">1</span>}, left=<span class="number">0</span>
Remove s[<span class="number">0</span>]='<span class="variable">e</span>': window_count = {'<span class="variable">e</span>': <span class="number">1</span>, '<span class="variable">c</span>': <span class="number">1</span>, '<span class="variable">b</span>': <span class="number">1</span>}, left=<span class="number">1</span>
Remove s[<span class="number">1</span>]='<span class="variable">c</span>': window_count = {'<span class="variable">e</span>': <span class="number">1</span>, '<span class="variable">c</span>': <span class="number">0</span>, '<span class="variable">b</span>': <span class="number">1</span>} → remove '<span class="variable">c</span>'
window_count = {'<span class="variable">e</span>': <span class="number">1</span>, '<span class="variable">b</span>': <span class="number">1</span>}, left=<span class="number">2</span>
distinct = <span class="number">2</span> ≤ <span class="number">2</span> → <span style="color: var(--phase-expand-color);">Valid! ✅</span>
max_length = <span class="function">max</span>(<span class="number">3</span>, <span class="number">3</span>-<span class="number">2</span>+<span class="number">1</span>) = <span class="number">3</span></div>
                            </div>
                            
                            <div class="result-highlight">
                                Final Result: Maximum length = 3, Substring = "ece"
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Framework Section -->
            <section id="framework" class="framework-section">
                <div class="framework-content">
                    <h2 class="framework-title">VARIABLE WINDOW FRAMEWORK</h2>
                    <p>The variable window algorithm follows a systematic approach with three key phases that work together to efficiently find optimal solutions.</p>
                    
                    <div class="phase-grid">
                        <div class="phase-card">
                            <div class="phase-card-title">🧮 PHASE 1: Initialize</div>
                            <p>Set up tracking variables like pointers, counters, and data structures to monitor the window state.</p>
                            <ul>
                                <li>left = 0 (left pointer)</li>
                                <li>result = initial value</li>
                                <li>window data structure</li>
                            </ul>
                        </div>
                        
                        <div class="phase-card">
                            <div class="phase-card-title">📈 PHASE 2: Expand</div>
                            <p>Grow the window by moving the right pointer and incorporating new elements into your data structures.</p>
                            <ul>
                                <li>Add elements systematically</li>
                                <li>Update window state</li>
                                <li>Prepare for constraint checking</li>
                            </ul>
                        </div>
                        
                        <div class="phase-card">
                            <div class="phase-card-title">📉 PHASE 3: Contract</div>
                            <p>Shrink the window when constraints are violated by moving the left pointer and removing elements.</p>
                            <ul>
                                <li>Check constraint violations</li>
                                <li>Remove elements as needed</li>
                                <li>Update window state</li>
                            </ul>
                        </div>
                        
                        <div class="phase-card">
                            <div class="phase-card-title">🎯 PHASE 4: Update</div>
                            <p>Calculate and update the result whenever the window is in a valid state after expansion/contraction.</p>
                            <ul>
                                <li>Compute current result</li>
                                <li>Update best result seen so far</li>
                                <li>Continue window sliding</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Mastery Section -->
            <section id="mastery" class="constraint-section">
                <h2 class="constraint-title">Path to Mastery</h2>
                
                <div class="constraint-grid">
                    <div class="constraint-item">
                        <div class="constraint-category">Problem Recognition</div>
                        <p>Look for keywords like "longest/shortest subarray/substring with condition," "minimum window," or "find optimal subarray that satisfies..."</p>
                    </div>
                    
                    <div class="constraint-item">
                        <div class="constraint-category">Data Structures</div>
                        <p>Most variable window problems use HashMaps/dictionaries, deques, or arrays to track window state and optimize operations.</p>
                    </div>
                    
                    <div class="constraint-item">
                        <div class="constraint-category">Constraint Handling</div>
                        <p>The key to variable window is defining clear constraints and efficiently checking when they're violated.</p>
                    </div>
                    
                    <div class="constraint-item">
                        <div class="constraint-category">Window Management</div>
                        <p>Always ensure elements are properly added and removed from your data structures as the window slides.</p>
                    </div>
                </div>
                
                <div class="callout success">
                    <div class="callout-title">💡 Pro Tip</div>
                    <p>When solving variable window problems, first clearly identify what makes a window valid or invalid, then implement the expand-shrink mechanism around that constraint.</p>
                </div>
            </section>
        </section>
    </main>
    
    <footer>
        <div class="container">
            <p>© 2025 DS-Rio | Variable Window Size Algorithm Tutorial</p>
        </div>
    </footer>

    <script>
        // Simple script to update the progress bar as user scrolls
        window.onscroll = function() {
            let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            let scrolled = (winScroll / height) * 100;
            document.getElementById("progressBar").style.width = scrolled + "%";
        };
        
        // Toggle collapsible sections
        function toggleTemplate(id) {
            const element = document.getElementById(id);
            element.classList.toggle("active");
            
            const header = element.previousElementSibling;
            header.classList.toggle("active");
        }
        
        // Scroll to section
        function scrollToSection(id) {
            const section = document.getElementById(id);
            section.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Toggle all templates
        function toggleAllTemplates() {
            const collapsibles = document.querySelectorAll('.collapsible');
            const isAnyCollapsed = Array.from(collapsibles).some(item => !item.classList.contains('active'));
            
            collapsibles.forEach(item => {
                if (isAnyCollapsed) {
                    item.classList.add('active');
                    item.previousElementSibling.classList.add('active');
                } else {
                    item.classList.remove('active');
                    item.previousElementSibling.classList.remove('active');
                }
            });
        }
    </script>

                        <div class="result-highlight">
                            Final Result: 3 (substring "ece") 🎉
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="template-section">
            <div class="template-header" onclick="toggleTemplate('template2')">
                <div class="template-header-left">
                    <div class="template-icon">📜</div>
                    <div>
                        <div class="template-title">TEMPLATE 2: MINIMUM LENGTH WINDOW</div>
                        <div class="template-subtitle">The Reverse Pattern</div>
                    </div>
                </div>
                <div class="expand-icon">▼</div>
            </div>
            
            <div id="template2" class="collapsible">
                <div class="template-content">
                    <div class="problem-type">
                        <strong>Problem Type:</strong> "Find the minimum window substring that contains all characters of pattern"
                    </div>

                    <div class="code-container">
                        <div class="code-header">
                            <div class="code-header-text">Python Implementation</div>
                        </div>
                        <div class="code-block">def minwindowtemplate(s, target):
    <span class="phase-badge phase-expand">🧮 PHASE 1</span># Initialize tracking variables
    left = 0
    minlength = float('inf')   # Start with infinity for minimum
    minstart = 0               # Track start position of minimum window
    windowcount = {}           # Current window character counts
    formed = 0                 # Number of unique chars with desired frequency
    
    # Build target frequency map
    targetcount = {}
    for char in target:
        targetcount[char] = targetcount.get(char, 0) + 1
    
    <span class="phase-badge phase-expand">🔄 PHASE 2</span># Right pointer expands the window
    for right in range(len(s)):
        <span class="phase-badge phase-expand">📈 EXPAND</span># Add current character to window
        char = s[right]
        windowcount[char] = windowcount.get(char, 0) + 1
        
        # Check if this character helps satisfy target requirement
        if char in targetcount and windowcount[char] == targetcount[char]:
            formed += 1   # This character now has required frequency
        
        <span class="phase-badge phase-contract">📉 CONTRACT</span># Shrink window while it's valid (contains all target chars)
        while formed == len(targetcount) and left <= right:
            # Update minimum if current window is smaller
            if right - left + 1 < minlength:
                minlength = right - left + 1
                minstart = left
            
            # Remove leftmost character
            leftchar = s[left]
            windowcount[leftchar] -= 1
            if leftchar in targetcount and windowcount[leftchar] < targetcount[leftchar]:
                formed -= 1   # This character no longer satisfies requirement
            left += 1
    
    return "" if minlength == float('inf') else s[minstart:minstart + minlength]</div>
                    </div>

                    <div class="simulation-section">
                        <div class="simulation-title">SIMULATION: s = "ADOBECODEBANC", target = "ABC"</div>
                        
                        <div class="step-card">
                            <div class="step-title">Step 1: Build targetcount</div>
                            <div class="step-content">targetcount = {'A': 1, 'B': 1, 'C': 1}</div>
                        </div>

                        <div class="step-card">
                            <div class="step-title">Step 2: Simulation through the string</div>
                            <div class="step-content">String: A D O B E C O D E B A N C
        ↑
right=0, left=0, formed=0
Add 'A': windowcount={'A':1}, formed=1 (A satisfied)</div>
                        </div>

                        <div class="step-card">
                            <div class="step-title">Continue expanding until all characters are satisfied</div>
                            <div class="step-content">right=3: Add 'B' → windowcount={'A':1,'B':1}, formed=2
right=5: Add 'C' → windowcount={'A':1,'B':1,'C':1}, formed=3 (ALL SATISFIED!)</div>
                        </div>

                        <div class="step-card">
                            <div class="step-title">Now contract while valid</div>
                            <div class="step-content">Current window: "ADOBEC" (indices 0-5), length=6
Remove 'A': windowcount={'A':0,'B':1,'C':1}, formed=2 (A no longer satisfied)
Stop contracting, continue expanding...</div>
                        </div>

                        <div class="result-highlight">
                            Final Result: "BANC" (minimum window containing A, B, C) 🎉
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="template-section">
            <div class="template-header" onclick="toggleTemplate('template3')">
                <div class="template-header-left">
                    <div class="template-icon">📜</div>
                    <div>
                        <div class="template-title">TEMPLATE 3: COUNT VALID WINDOWS</div>
                        <div class="template-subtitle">The Enumeration Pattern</div>
                    </div>
                </div>
                <div class="expand-icon">▼</div>
            </div>
            
            <div id="template3" class="collapsible">
                <div class="template-content">
                    <div class="problem-type">
                        <strong>Problem Type:</strong> "Count number of subarrays that satisfy a condition"
                    </div>

                    <div class="code-container">
                        <div class="code-header">
                            <div class="code-header-text">Python Implementation</div>
                        </div>
                        <div class="code-block">def countwindowstemplate(s, k):
    <span class="phase-badge phase-expand">🧮 PHASE 1</span># Initialize tracking variables
    left = 0
    count = 0               # Count of valid windows
    windowcount = {}       # Current window character frequencies
    
    <span class="phase-badge phase-expand">🔄 PHASE 2</span># Right pointer expands the window
    for right in range(len(s)):
        <span class="phase-badge phase-expand">📈 EXPAND</span># Add current character to window
        windowcount[s[right]] = windowcount.get(s[right], 0) + 1
        
        <span class="phase-badge phase-contract">📉 CONTRACT</span># Shrink while constraint is violated
        while constraintviolated(windowcount, k):
            windowcount[s[left]] -= 1
            if windowcount[s[left]] == 0:
                del windowcount[s[left]]
            left += 1
        
        <span class="phase-badge phase-update">🎯 COUNT</span># All subarrays ending at 'right' and starting >= 'left' are valid
        if constraintsatisfied(windowcount, k):
            count += right - left + 1   # This is the key insight!
    
    return count

def constraintviolated(windowcount, k):
    return len(windowcount) > k

def constraintsatisfied(windowcount, k):
    return len(windowcount) <= k</div>
                    </div>

                    <div class="simulation-section">
                        <div class="simulation-title">SIMULATION: Count subarrays with at most 2 distinct characters</div>
                        <p style="color: #9CA3AF; margin-bottom: 20px;">For s = "ece", k = 2:</p>
                        
                        <div class="step-card">
                            <div class="step-title">Step 1: right=0, s[right]='e'</div>
                            <div class="step-content">windowcount = {'e': 1}
distinct = 1 ≤ 2 → Valid ✅
count += 0-0+1 = 1 (subarray: "e")</div>
                        </div>

                        <div class="step-card">
                            <div class="step-title">Step 2: right=1, s[right]='c'</div>
                            <div class="step-content">windowcount = {'e': 1, 'c': 1}
distinct = 2 ≤ 2 → Valid ✅
count += 1-0+1 = 2 (subarrays: "c", "ec")
Total: 1 + 2 = 3</div>
                        </div>

                        <div class="step-card">
                            <div class="step-title">Step 3: right=2, s[right]='e'</div>
                            <div class="step-content">windowcount = {'e': 2, 'c': 1}
distinct = 2 ≤ 2 → Valid ✅
count += 2-0+1 = 3 (subarrays: "e", "ce", "ece")
Total: 3 + 3 = 6</div>
                        </div>

                        <div class="result-highlight">
                            Final Result: 6 valid subarrays 🎉
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="framework-section" id="framework">
            <div class="framework-content">
                <div class="framework-title">🧠 RIO'S UNIVERSAL TEMPLATE</div>
                <p style="font-size: 1.1rem; color: rgba(255,255,255,0.8); margin-bottom: 32px;">The Master Framework</p>
                
                <div class="code-container">
                    <div class="code-header">
                        <div class="code-header-text">Universal Sliding Window Template</div>
                    </div>
                    <div class="code-block">def universalslidingwindow(arr, params):
    """
    Rio's Universal Sliding Window Template
    The 4 phases of sliding window:
    1. EXPAND: Add element at right pointer
    2. CONTRACT: Remove elements from left while constraint violated  
    3. UPDATE: Process valid window
    4. REPEAT: Continue with right pointer
    """
    left = 0
    result = 0
    windowstate = {}
    
    for right in range(len(arr)):
        <span class="phase-badge phase-expand">📈 PHASE 1: EXPAND</span>
        element = arr[right]
        windowstate[element] = windowstate.get(element, 0) + 1
        
        <span class="phase-badge phase-contract">📉 PHASE 2: CONTRACT</span>
        while violatesconstraint(windowstate, params):
            leftelement = arr[left]
            windowstate[leftelement] -= 1
            if windowstate[leftelement] == 0:
                del windowstate[leftelement]
            left += 1
        
        <span class="phase-badge phase-update">🎯 PHASE 3: UPDATE RESULT</span>
        currentwindowsize = right - left + 1
        result = updateresult(result, currentwindowsize, params)
    
    return result</div>
                </div>

                <h3 style="font-size: 1.5rem; margin: 40px 0 24px 0;">🧠 THE 4-PHASE EXECUTION PROCESS</h3>
                
                <div class="phase-grid">
                    <div class="phase-card">
                        <div class="phase-card-title">📋 Phase 1: EXPAND (Right Pointer)</div>
                        <ul style="color: rgba(255,255,255,0.8); margin-top: 8px;">
                            <li>Add arr[right] to current window</li>
                            <li>Update frequency/sum/state tracking</li>
                            <li>Check if constraint is satisfied</li>
                        </ul>
                    </div>

                    <div class="phase-card">
                        <div class="phase-card-title">📋 Phase 2: CONTRACT (Left Pointer)</div>
                        <ul style="color: rgba(255,255,255,0.8); margin-top: 8px;">
                            <li>Remove elements from left while constraint violated</li>
                            <li>Update tracking data structures</li>
                            <li>Maintain window validity</li>
                        </ul>
                    </div>

                    <div class="phase-card">
                        <div class="phase-card-title">📋 Phase 3: UPDATE (Result)</div>
                        <ul style="color: rgba(255,255,255,0.8); margin-top: 8px;">
                            <li>Current window is guaranteed valid</li>
                            <li>Update maximum/minimum/count based on problem</li>
                            <li>Store window information if needed</li>
                        </ul>
                    </div>

                    <div class="phase-card">
                        <div class="phase-card-title">📋 Phase 4: REPEAT</div>
                        <ul style="color: rgba(255,255,255,0.8); margin-top: 8px;">
                            <li>Continue with next right pointer position</li>
                            <li>Process continues until end of array</li>
                            <li>Return final optimized result</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="constraint-section">
            <div class="constraint-title">🧮 RIO'S CONSTRAINT PATTERNS — THE LOGIC FORMULAS</div>
            
            <div class="constraint-grid">
                <div class="constraint-item">
                    <div class="constraint-category">📏 For Character Frequency Problems</div>
                    <div style="color: #CBD5E1;">
                        • At most K distinct: <code>len(windowcount) > k</code><br>
                        • Exact K distinct: <code>len(windowcount) != k</code><br>
                        • At least K distinct: <code>len(windowcount) < k</code>
                    </div>
                </div>

                <div class="constraint-item">
                    <div class="constraint-category">📏 For Sum Problems</div>
                    <div style="color: #CBD5E1;">
                        • Sum at most target: <code>currentsum > target</code><br>
                        • Sum at least target: <code>currentsum < target</code>
                    </div>
                </div>

                <div class="constraint-item">
                    <div class="constraint-category">📏 For Pattern Matching</div>
                    <div style="color: #CBD5E1;">
                        • Contains all pattern chars: <code>formed != len(targetcount)</code>
                    </div>
                </div>
            </div>
        </div>

        <div class="mastery-section" id="mastery">
            <div class="mastery-title">🏁 RIO'S FINAL MASTERY</div>
            <p style="font-size: 1.1rem; margin-bottom: 32px;">The Unified Approach</p>
            <p style="font-size: 1rem; margin-bottom: 32px; opacity: 0.9;">Every sliding window problem follows this exact same pattern:</p>

            <div class="mastery-steps">
                <div class="mastery-step">
                    <div class="step-number">1</div>
                    <div>Initialize tracking variables</div>
                </div>
                <div class="mastery-step">
                    <div class="step-number">2</div>
                    <div>Expand right pointer, add element</div>
                </div>
                <div class="mastery-step">
                    <div class="step-number">3</div>
                    <div>Contract left pointer while constraint violated</div>
                </div>
                <div class="mastery-step">
                    <div class="step-number">4</div>
                    <div>Update result while window is valid</div>
                </div>
                <div class="mastery-step">
                    <div class="step-number">5</div>
                    <div>Return final result</div>
                </div>
            </div>

            <div style="background: rgba(255, 255, 255, 0.1); border-radius: 16px; padding: 24px; margin: 32px 0;">
                <h3 style="margin-bottom: 16px; font-size: 1.25rem;">The only changes are in:</h3>
                <div style="display: grid; gap: 12px; text-align: left;">
                    <div style="display: flex; align-items: center;">
                        <span style="margin-right: 12px;">🎯</span>
                        <span>What you track in <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px;">windowstate</code></span>
                    </div>
                    <div style="display: flex; align-items: center;">
                        <span style="margin-right: 12px;">⚠️</span>
                        <span>What constitutes a <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px;">violatesconstraint</code></span>
                    </div>
                    <div style="display: flex; align-items: center;">
                        <span style="margin-right: 12px;">📊</span>
                        <span>How you <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px;">updateresult</code></span>
                    </div>
                </div>
            </div>

            <div style="font-size: 1.5rem; font-weight: 700; margin: 32px 0;">
                Master this pattern, master all sliding windows. 🧠⚡
            </div>
            
            <div style="font-style: italic; opacity: 0.8; font-size: 1.1rem;">
                — Rio Master 🧠⚡
            </div>
        </div>
    </div>

    <script>
        function toggleTemplate(templateId) {
            const template = document.getElementById(templateId);
            const header = template.previousElementSibling;
            const expandIcon = header.querySelector('.expand-icon');
            
            template.classList.toggle('active');
            header.classList.toggle('active');
            
            // Rotate expand icon
            if (template.classList.contains('active')) {
                expandIcon.style.transform = 'rotate(180deg)';
            } else {
                expandIcon.style.transform = 'rotate(0deg)';
            }
        }

        function toggleAllTemplates() {
            const templates = document.querySelectorAll('.collapsible');
            const allActive = Array.from(templates).every(t => t.classList.contains('active'));
            
            templates.forEach(template => {
                const header = template.previousElementSibling;
                const expandIcon = header.querySelector('.expand-icon');
                
                if (allActive) {
                    template.classList.remove('active');
                    header.classList.remove('active');
                    expandIcon.style.transform = 'rotate(0deg)';
                } else {
                    template.classList.add('active');
                    header.classList.add('active');
                    expandIcon.style.transform = 'rotate(180deg)';
                }
            });
        }

        function scrollToFramework() {
            document.getElementById('framework').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }

        function scrollToMastery() {
            document.getElementById('mastery').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }

        // Add interactivity to step cards
        document.querySelectorAll('.step-card').forEach(step => {
            step.addEventListener('click', function() {
                this.style.background = '#334155';
                this.style.borderColor = '#475569';
                setTimeout(() => {
                    this.style.background = '#1E293B';
                    this.style.borderColor = '#334155';
                }, 200);
            });
        });

        // Add interactivity to phase cards
        document.querySelectorAll('.phase-card').forEach(card => {
            card.addEventListener('click', function() {
                this.style.transform = 'translateY(-8px) scale(1.02)';
                setTimeout(() => {
                    this.style.transform = 'translateY(-4px)';
                }, 200);
            });
        });

        // Auto-expand first template on load
        window.addEventListener('load', () => {
            const template1 = document.getElementById('template1');
            const header1 = template1.previousElementSibling;
            const expandIcon1 = header1.querySelector('.expand-icon');
            
            template1.classList.add('active');
            header1.classList.add('active');
            expandIcon1.style.transform = 'rotate(180deg)';
        });

        // Add smooth scrolling for all internal links

        // Hamburger Menu Toggle
        const hamburgerMenu = document.getElementById('hamburgerMenu');
        const navElement = document.getElementById('navLinks') || document.getElementById('navActions');
        
        if (hamburgerMenu && navElement) {
            hamburgerMenu.addEventListener('click', function() {
                hamburgerMenu.classList.toggle('active');
                navElement.classList.toggle('active');
            });
            
            // Close menu when clicking on a nav link (mobile)
            if (document.getElementById('navLinks')) {
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', function() {
                        if (window.innerWidth <= 768) {
                            hamburgerMenu.classList.remove('active');
                            navElement.classList.remove('active');
                        }
                    });
                });
            }
            
            // Close menu when clicking outside
            document.addEventListener('click', function(event) {
                if (window.innerWidth <= 768) {
                    if (!hamburgerMenu.contains(event.target) && !navElement.contains(event.target)) {
                        hamburgerMenu.classList.remove('active');
                        navElement.classList.remove('active');
                    }
                }
            });
        }


                document.addEventListener('DOMContentLoaded', function() {
            // Add animation delays to template sections
            const templateSections = document.querySelectorAll('.template-section');
            templateSections.forEach((section, index) => {
                section.style.animationDelay = `${index * 0.2}s`;
            });
        });
    </script>
</body>
</html>