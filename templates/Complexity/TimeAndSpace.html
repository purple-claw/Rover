<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time & Space Complexity Analysis | Rover</title>
    <style>
        /* CSS Variables for consistent theming */
        :root {
            --primary-bg: #0d1117;
            --secondary-bg: #161b22;
            --card-bg: rgba(30, 38, 54, 0.7);
            --text-primary: #f0f6fc;
            --text-secondary: #c9d1d9;
            --text-muted: #8b949e;
            --accent-blue: #58a6ff;
            --accent-purple: #bc8cff;
            --accent-green: #3fb950;
            --accent-orange: #f78166;
            --accent-yellow: #e3b341;
            --accent-pink: #ff79c6;
            --accent-red: #ff6b6b;
            --border-color: #30363d;
            --code-bg: #1e1e1e;
            --code-comment: #6a9955;
            --code-keyword: #569cd6;
            --code-string: #ce9178;
            --code-function: #dcdcaa;
            --code-variable: #9cdcfe;
            --code-number: #b5cea8;
            --gradient-bg: linear-gradient(135deg, #0d1117 0%, #161b22 100%);
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15);
            --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.2);
            --radius-sm: 6px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --navbar-height: 60px;
            --animation-speed: 0.3s;
            --container-width: 1200px;
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--gradient-bg);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            padding-bottom: 3rem;
            min-height: 100vh;
        }

        h1, h2, h3, h4, h5, h6 {
            font-weight: 600;
            margin: 1.5rem 0 1rem;
            color: var(--text-primary);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
        }

        h2 {
            font-size: 1.75rem;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 0.5rem;
            margin-top: 2.5rem;
        }

        h3 {
            font-size: 1.35rem;
            color: var(--accent-blue);
        }

        p {
            margin-bottom: 1.2rem;
            color: var(--text-secondary);
        }

        a {
            color: var(--accent-blue);
            text-decoration: none;
            transition: color var(--animation-speed) ease;
        }

        a:hover {
            text-decoration: underline;
        }

        ul, ol {
            padding-left: 2rem;
            margin-bottom: 1.5rem;
            color: var(--text-secondary);
        }

        li {
            margin-bottom: 0.5rem;
        }

        /* Container and Layout */
        .container {
            max-width: var(--container-width);
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        /* Navigation */
        nav {
            background: var(--secondary-bg);
            height: var(--navbar-height);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-sm);
            backdrop-filter: blur(8px);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
        }

        .nav-logo {
            font-weight: 700;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-logo span {
            color: var(--accent-blue);
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav-links li a {
            color: var(--text-secondary);
            font-weight: 500;
            transition: color var(--animation-speed) ease;
            text-decoration: none;
        }

        .nav-links li a:hover, .nav-links li a.active {
            color: var(--accent-blue);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(17, 24, 39, 0.9) 100%);
            border-radius: var(--radius-lg);
            padding: 3rem 2rem;
            margin: 2rem 0;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(168, 85, 247, 0.1) 100%);
            pointer-events: none;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 1rem;
            font-size: 2.75rem;
            font-weight: 800;
            letter-spacing: -0.02em;
        }

        .hero p {
            max-width: 800px;
            margin: 0 auto 1.5rem;
            font-size: 1.15rem;
            color: var(--text-secondary);
        }

        /* Cards and Content Sections */
        .card {
            background: var(--card-bg);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
            backdrop-filter: blur(8px);
            transition: transform var(--animation-speed) ease, box-shadow var(--animation-speed) ease;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .card-header .icon {
            font-size: 1.5rem;
            color: var(--accent-blue);
            background: rgba(88, 166, 255, 0.1);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card-header h3 {
            margin: 0;
        }

        /* Interactive Section Headers */
        .section-header {
            background: linear-gradient(135deg, rgba(30, 38, 54, 0.8) 0%, rgba(22, 27, 34, 0.9) 100%);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin: 2rem 0 1rem;
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: all var(--animation-speed) ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .section-header:hover {
            background: linear-gradient(135deg, rgba(48, 54, 61, 0.8) 0%, rgba(30, 38, 54, 0.9) 100%);
            transform: translateY(-2px);
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .section-icon {
            font-size: 2rem;
            background: rgba(88, 166, 255, 0.1);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .expand-icon {
            font-size: 1.25rem;
            color: var(--accent-blue);
            transition: transform var(--animation-speed) ease;
        }

        .section-header.active .expand-icon {
            transform: rotate(180deg);
        }

        /* Collapsible Content */
        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-in-out;
        }

        /* Collapsible Content */
        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-in-out;
        }

        .collapsible-content.active {
            max-height: 10000px;
        }

        /* Code Blocks */
        .code-container {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            margin: 1.5rem 0;
            overflow: hidden;
            box-shadow: var(--shadow-md);
        }

        .code-header {
            background: rgba(22, 27, 34, 0.8);
            padding: 0.75rem 1.25rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .code-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .code-block {
            background: var(--code-bg);
            color: var(--text-primary);
            padding: 1.5rem;
            font-family: 'JetBrains Mono', 'Fira Code', 'Monaco', 'Menlo', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            overflow-x: auto;
            white-space: pre;
        }

        /* Syntax Highlighting */
        .keyword {
            color: var(--code-keyword);
        }

        .function {
            color: var(--code-function);
        }

        .string {
            color: var(--code-string);
        }

        .comment {
            color: var(--code-comment);
        }

        .number {
            color: var(--code-number);
        }

        .variable {
            color: var(--code-variable);
        }

        /* Complexity Badges */
        .complexity-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-sm);
            font-size: 0.8rem;
            font-weight: 600;
            margin: 0.25rem;
            color: white;
        }

        .o-1 {
            background: var(--accent-green);
        }

        .o-log-n {
            background: var(--accent-blue);
        }

        .o-n {
            background: var(--accent-yellow);
            color: var(--primary-bg);
        }

        .o-n-log-n {
            background: var(--accent-orange);
        }

        .o-n2 {
            background: var(--accent-red);
        }

        .o-2n {
            background: var(--accent-purple);
        }

        /* Interactive Complexity Chart */
        .complexity-chart {
            background: rgba(30, 38, 54, 0.5);
            border-radius: var(--radius-md);
            padding: 2rem;
            margin: 2rem 0;
            border: 1px solid var(--border-color);
        }

        .chart-container {
            position: relative;
            width: 100%;
            height: 300px;
            background: var(--code-bg);
            border-radius: var(--radius-sm);
            overflow: hidden;
        }

        .chart-grid {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(to right, rgba(139, 148, 158, 0.1) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(139, 148, 158, 0.1) 1px, transparent 1px);
            background-size: 50px 30px;
        }

        .chart-line {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
            transition: all var(--animation-speed) ease;
        }

        .chart-line.active {
            filter: brightness(1.2);
            z-index: 10;
        }

        /* Memory Visualization */
        .memory-diagram {
            background: rgba(30, 38, 54, 0.5);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border: 1px solid var(--border-color);
            font-family: 'JetBrains Mono', monospace;
        }

        .memory-block {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 1px solid var(--border-color);
            background: var(--secondary-bg);
            margin: 2px;
            text-align: center;
            line-height: 38px;
            font-size: 0.8rem;
            transition: all var(--animation-speed) ease;
        }

        .memory-block:hover {
            background: var(--accent-blue);
            color: var(--primary-bg);
        }

        .memory-block.active {
            background: var(--accent-green);
            color: var(--primary-bg);
        }

        /* Callouts and Info Boxes */
        .callout {
            border-left: 4px solid var(--accent-blue);
            background: rgba(88, 166, 255, 0.1);
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: var(--radius-sm);
        }

        .callout-title {
            font-weight: 600;
            color: var(--accent-blue);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .callout p {
            margin-bottom: 0.5rem;
        }

        .callout p:last-child {
            margin-bottom: 0;
        }

        .callout.warning {
            border-left-color: var(--accent-orange);
            background: rgba(247, 129, 102, 0.1);
        }

        .callout.warning .callout-title {
            color: var(--accent-orange);
        }

        .callout.success {
            border-left-color: var(--accent-green);
            background: rgba(63, 185, 80, 0.1);
        }

        .callout.success .callout-title {
            color: var(--accent-green);
        }

        .callout.danger {
            border-left-color: var(--accent-red);
            background: rgba(255, 107, 107, 0.1);
        }

        .callout.danger .callout-title {
            color: var(--accent-red);
        }

        /* Interactive Examples */
        .interactive-example {
            background: var(--secondary-bg);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border: 1px solid var(--border-color);
        }

        .example-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .control-button {
            background: var(--accent-blue);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: 0.9rem;
            transition: all var(--animation-speed) ease;
        }

        .control-button:hover {
            background: var(--accent-purple);
            transform: translateY(-2px);
        }

        .control-button:disabled {
            background: var(--text-muted);
            cursor: not-allowed;
            transform: none;
        }

        .example-output {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            padding: 1rem;
            margin-top: 1rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            max-height: 300px;
            overflow-y: auto;
        }

        /* Progress Bar */
        .progress-container {
            width: 100%;
            height: 4px;
            background: transparent;
            position: fixed;
            top: var(--navbar-height);
            left: 0;
            z-index: 100;
        }

        .progress-bar {
            height: 4px;
            background: var(--accent-blue);
            width: 0%;
            transition: width 0.1s ease;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .hero {
                padding: 2rem 1rem;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 0 1rem;
            }
            
            .nav-links {
                display: none;
            }
            
            .chart-container {
                height: 200px;
            }
            
            .example-controls {
                flex-direction: column;
            }
        }

        /* Footer */
        footer {
            background: var(--secondary-bg);
            padding: 2rem 0;
            margin-top: 3rem;
            text-align: center;
            color: var(--text-muted);
            font-size: 0.9rem;
            border-top: 1px solid var(--border-color);
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>
    
    <!-- Navigation -->
    <nav>
        <div class="container nav-container">
            <div class="nav-logo">
                <span>Rover</span>| Complexity Analysis
            </div>
            <ul class="nav-links">
                <li><a href="#introduction" class="active">Introduction</a></li>
                <li><a href="#time-complexity">Time Complexity</a></li>
                <li><a href="#space-complexity">Space Complexity</a></li>
                <li><a href="#examples">Examples</a></li>
                <li><a href="#practice">Practice</a></li>
            </ul>
        </div>
    </nav>
    
    <main class="container">
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <h1>Time & Space Complexity Analysis</h1>
                <p>Master the art of algorithm analysis with interactive examples and visualizations. Learn to evaluate performance, optimize solutions, and make informed decisions about algorithm efficiency.</p>
            </div>
        </section>
        
        <!-- Introduction Section -->
        <section id="introduction">
            <div class="section-header" onclick="toggleSection('intro-content')">
                <div class="section-title">
                    <div class="section-icon">üéØ</div>
                    <div>
                        <h2>What is Complexity Analysis?</h2>
                        <p style="margin: 0; font-size: 0.9rem; color: var(--text-muted);">Starting from absolute zero</p>
                    </div>
                </div>
                <div class="expand-icon">‚ñº</div>
            </div>
            
            <div id="intro-content" class="collapsible-content active">
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üìö</div>
                        <h3>The Library Analogy</h3>
                    </div>
                    <p>Imagine you're in a library with 1,000 books, and you need to find one specific book.</p>
                    
                    <div class="interactive-example">
                        <h4>Method Comparison</h4>
                        <div class="example-controls">
                            <button class="control-button" onclick="simulateLinearSearch()">Linear Search</button>
                            <button class="control-button" onclick="simulateBinarySearch()">Binary Search</button>
                            <button class="control-button" onclick="resetSearch()">Reset</button>
                        </div>
                        <div class="example-output" id="search-output">
                            <div><strong>Method 1: Linear Search (Check every book)</strong></div>
                            <div>‚Ä¢ Best case: The book is first (1 check)</div>
                            <div>‚Ä¢ Worst case: The book is last (1,000 checks)</div>
                            <div>‚Ä¢ Average: Around 500 checks</div>
                            <br>
                            <div><strong>Method 2: Binary Search (Divide and conquer)</strong></div>
                            <div>‚Ä¢ Start in middle, eliminate half</div>
                            <div>‚Ä¢ Then middle of remaining half, eliminate half again</div>
                            <div>‚Ä¢ Maximum checks: Only 10! (because 2^10 = 1,024)</div>
                        </div>
                    </div>
                    
                <div class="card">
                    <div class="card-header">
                        <div class="icon">‚öôÔ∏è</div>
                        <h3>What Exactly is an Algorithm?</h3>
                    </div>
                    <p>An algorithm is like a recipe, but for solving problems with data. Let me show you with a real example:</p>
                    
                    <div class="code-container">
                        <div class="code-header">
                            <div class="code-title">Human Algorithm: Making Tea</div>
                        </div>
                        <div class="code-block">1. Boil water
2. Add tea leaves
3. Add sugar
4. Strain and serve</div>
                    </div>
                    
                    <div class="code-container">
                        <div class="code-header">
                            <div class="code-title">Computer Algorithm: Finding Maximum</div>
                        </div>
                        <div class="code-block"><span class="keyword">def</span> <span class="function">find_maximum</span>(numbers):
    <span class="comment"># Step 1: Assume first number is largest</span>
    <span class="variable">max_number</span> = numbers[<span class="number">0</span>]
    
    <span class="comment"># Step 2: Check every other number</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(<span class="number">1</span>, <span class="function">len</span>(numbers)):
        <span class="comment"># Step 3: If we find a bigger number, update our max</span>
        <span class="keyword">if</span> numbers[i] > <span class="variable">max_number</span>:
            <span class="variable">max_number</span> = numbers[i]
    
    <span class="comment"># Step 4: Return the largest we found</span>
    <span class="keyword">return</span> <span class="variable">max_number</span></div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="icon">‚ö°</div>
                        <h3>Why Do We Measure Algorithm Performance?</h3>
                    </div>
                    <p>Let me tell you a story. In 2012, a stock trading company lost $440 million in 45 minutes because their algorithm was too slow. Every millisecond mattered.</p>
                    
                    <div class="callout warning">
                        <div class="callout-title">‚ö†Ô∏è Real-World Impact</div>
                        <p>Algorithm efficiency isn't just academic - it has real financial and practical consequences in the real world.</p>
                    </div>
                    
                    <p>Here's an example closer to home:</p>
                    
                    <div class="interactive-example">
                        <h4>Prime Number Check Comparison</h4>
                        <div class="example-controls">
                            <input type="number" id="prime-input" value="1000000" min="2" max="10000000" style="padding: 0.5rem; border-radius: 4px; border: 1px solid var(--border-color); background: var(--code-bg); color: var(--text-primary);">
                            <button class="control-button" onclick="testPrimeAlgorithms()">Test Both Methods</button>
                        </div>
                        <div class="example-output" id="prime-output">
                            <div>Enter a number above and click "Test Both Methods" to see the difference!</div>
                        </div>
                    </div>
                    
                    <div class="code-container">
                        <div class="code-header">
                            <div class="code-title">Slow Prime Check - O(n)</div>
                        </div>
                        <div class="code-block"><span class="keyword">def</span> <span class="function">is_prime_slow</span>(n):
    <span class="keyword">if</span> n < <span class="number">2</span>:
        <span class="keyword">return</span> <span class="keyword">False</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(<span class="number">2</span>, n):   <span class="comment"># Check every number from 2 to n-1</span>
        <span class="keyword">if</span> n % i == <span class="number">0</span>:
            <span class="keyword">return</span> <span class="keyword">False</span>
    <span class="keyword">return</span> <span class="keyword">True</span>

<span class="comment"># For n = 1,000,000, this does 1,000,000 checks</span></div>
                    </div>
                    
                    <div class="code-container">
                        <div class="code-header">
                            <div class="code-title">Fast Prime Check - O(‚àön)</div>
                        </div>
                        <div class="code-block"><span class="keyword">def</span> <span class="function">is_prime_fast</span>(n):
    <span class="keyword">if</span> n < <span class="number">2</span>:
        <span class="keyword">return</span> <span class="keyword">False</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(<span class="number">2</span>, <span class="function">int</span>(n**<span class="number">0.5</span>) + <span class="number">1</span>):   <span class="comment"># Only check up to square root</span>
        <span class="keyword">if</span> n % i == <span class="number">0</span>:
            <span class="keyword">return</span> <span class="keyword">False</span>
    <span class="keyword">return</span> <span class="keyword">True</span>

<span class="comment"># For n = 1,000,000, this does only 1,000 checks!</span></div>
                    </div>
                    
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Time Complexity Section -->
        <section id="time-complexity">
            <div class="section-header" onclick="toggleSection('time-content')">
                <div class="section-title">
                    <div class="section-icon">‚è±Ô∏è</div>
                    <div>
                        <h2>Time Complexity - Understanding Deeply</h2>
                        <p style="margin: 0; font-size: 0.9rem; color: var(--text-muted);">How we measure algorithm efficiency</p>
                    </div>
                </div>
                <div class="expand-icon">‚ñº</div>
            </div>
            
            <div id="time-content" class="collapsible-content active">
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üïê</div>
                        <h3>What Does "Time" Mean in Time Complexity?</h3>
                    </div>
                    
                    <div class="callout warning">
                        <div class="callout-title">‚ö†Ô∏è Important</div>
                        <p>Time complexity does NOT measure actual time in seconds. Instead, it counts the number of "basic operations" your algorithm performs.</p>
                    </div>
                    
                    <div class="card">
                        <h4>What's a Basic Operation?</h4>
                        <ul>
                            <li>Adding two numbers: 1 operation</li>
                            <li>Comparing two numbers: 1 operation</li>
                            <li>Assigning a value to a variable: 1 operation</li>
                            <li>Accessing an array element: 1 operation</li>
                        </ul>
                    </div>
                    
                    <div class="interactive-example">
                        <h4>Operation Counter Example</h4>
                        <div class="example-controls">
                            <input type="number" id="operation-n" value="5" min="1" max="20" style="padding: 0.5rem; border-radius: 4px; border: 1px solid var(--border-color); background: var(--code-bg); color: var(--text-primary);">
                            <button class="control-button" onclick="countOperations()">Count Operations</button>
                        </div>
                        <div class="example-output" id="operation-output">
                            <div>Enter a value for n and click "Count Operations" to see how many operations the algorithm performs!</div>
                        </div>
                    </div>
                    
                    <div class="code-container">
                        <div class="code-header">
                            <div class="code-title">Operation Counting Example</div>
                        </div>
                        <div class="code-block"><span class="keyword">def</span> <span class="function">calculate_sum</span>(n):
    <span class="variable">total</span> = <span class="number">0</span>                    <span class="comment"># 1 operation (assignment)</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n):       <span class="comment"># n+1 operations (n checks + 1 final check)</span>
        <span class="variable">total</span> = <span class="variable">total</span> + i      <span class="comment"># 2n operations (n additions + n assignments)</span>
    <span class="keyword">return</span> <span class="variable">total</span>             <span class="comment"># 1 operation</span>

<span class="comment"># Total: 1 + (n+1) + 2n + 1 = 3n + 3 operations</span></div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üìä</div>
                        <h3>Big-O Notation: The Universal Language</h3>
                    </div>
                    <p>Big-O is like describing the "shape" of growth, not exact numbers.</p>
                    
                    <div class="complexity-chart">
                        <h4>Interactive Complexity Chart</h4>
                        <p>Click on different complexity curves to see how they grow:</p>
                        <div class="chart-container" id="complexity-chart">
                            <div class="chart-grid"></div>
                            <canvas id="chart-canvas" width="800" height="300"></canvas>
                        </div>
                        <div style="margin-top: 1rem;">
                            <span class="complexity-badge o-1" onclick="highlightComplexity('O(1)')">O(1)</span>
                            <span class="complexity-badge o-log-n" onclick="highlightComplexity('O(log n)')">O(log n)</span>
                            <span class="complexity-badge o-n" onclick="highlightComplexity('O(n)')">O(n)</span>
                            <span class="complexity-badge o-n-log-n" onclick="highlightComplexity('O(n log n)')">O(n log n)</span>
                            <span class="complexity-badge o-n2" onclick="highlightComplexity('O(n¬≤)')">O(n¬≤)</span>
                            <span class="complexity-badge o-2n" onclick="highlightComplexity('O(2‚Åø)')">O(2‚Åø)</span>
                        </div>
                    </div>
                    
                    <div class="callout">
                        <div class="callout-title">üèîÔ∏è Mountain Analogy</div>
                        <p>Think of it like describing mountains:</p>
                        <ul>
                            <li>A hill grows slowly (O(log n))</li>
                            <li>A steady slope goes up steadily (O(n))</li>
                            <li>A steep mountain face shoots up quickly (O(n¬≤))</li>
                            <li>A cliff face is almost vertical (O(2‚Åø))</li>
                        </ul>
                        
                        <div style="margin-top: 1rem;">
                            <h4>Why Do We Ignore Constants and Smaller Terms?</h4>
                            <p>When n = 1,000,000:</p>
                            <ul>
                                <li>3n + 3 = 3,000,003</li>
                                <li>n = 1,000,000</li>
                            </ul>
                            <p>The difference is only 0.0003%! That's why we say both are O(n).</p>
                        </div>
                    </div>
                </div>
                
                <!-- Detailed Complexity Classes -->
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üîç</div>
                        <h3>The Complete Complexity Hierarchy - With Real Examples</h3>
                    </div>
                    
                    <!-- O(1) - Constant Time -->
                    <div class="complexity-section">
                        <h4><span class="complexity-badge o-1">O(1)</span> Constant Time</h4>
                        <p><strong>Analogy:</strong> Opening a book to page 50 (you go directly there)</p>
                        
                        <div class="code-container">
                            <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">get_first_element</span>(arr):
    <span class="keyword">return</span> arr[<span class="number">0</span>]   <span class="comment"># Always 1 operation, no matter how big arr is</span>

<span class="comment"># arr has 10 elements: 1 operation</span>
<span class="comment"># arr has 1,000,000 elements: still 1 operation!</span></code></pre>
                            </div>
                        </div>
                        
                        <div class="memory-explanation">
                            <h5>How Arrays Work in Memory:</h5>
                            <div class="memory-layout">
                                <div style="font-family: monospace;">
Memory Address: [1000] [1004] [1008] [1012] [1016]<br>
Array Values:&nbsp;&nbsp;&nbsp;[&nbsp;&nbsp;5&nbsp;&nbsp;] [&nbsp;10&nbsp;] [&nbsp;15&nbsp;] [&nbsp;20&nbsp;] [&nbsp;25&nbsp;]<br>
Index:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;&nbsp;0&nbsp;&nbsp;] [&nbsp;&nbsp;1&nbsp;&nbsp;] [&nbsp;&nbsp;2&nbsp;&nbsp;] [&nbsp;&nbsp;3&nbsp;&nbsp;] [&nbsp;&nbsp;4&nbsp;&nbsp;]<br>
<br>
To access arr[3]: Address = 1000 + (3 √ó 4) = 1012<br>
Go directly to address 1012, get value 20<br>
<strong>This is why array access is O(1)!</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- O(log n) - Logarithmic Time -->
                    <div class="complexity-section">
                        <h4><span class="complexity-badge o-log-n">O(log n)</span> Logarithmic Time</h4>
                        <p><strong>Analogy:</strong> Finding a word in a dictionary (you don't check every page)</p>
                        
                        <div class="code-container">
                            <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">binary_search_explained</span>(arr, target):
    left, right, steps = <span class="number">0</span>, <span class="function">len</span>(arr) - <span class="number">1</span>, <span class="number">0</span>
    
    <span class="keyword">while</span> left <= right:
        steps += <span class="number">1</span>
        mid = (left + right) // <span class="number">2</span>
        <span class="function">print</span>(<span class="string">f"Step {steps}: Checking index {mid}, value {arr[mid]}"</span>)
        
        <span class="keyword">if</span> arr[mid] == target:
            <span class="function">print</span>(<span class="string">f"Found {target} in {steps} steps!"</span>)
            <span class="keyword">return</span> mid
        <span class="keyword">elif</span> arr[mid] < target:
            <span class="function">print</span>(<span class="string">f"  {arr[mid]} < {target}, search right half"</span>)
            left = mid + <span class="number">1</span>
        <span class="keyword">else</span>:
            <span class="function">print</span>(<span class="string">f"  {arr[mid]} > {target}, search left half"</span>)
            right = mid - <span class="number">1</span>
    
    <span class="keyword">return</span> -<span class="number">1</span></code></pre>
                            </div>
                        </div>
                        
                        <div class="logarithmic-explanation">
                            <h5>Why is it log n? Each step eliminates half!</h5>
                            <ul>
                                <li>Array of size 10: maximum 4 steps (because 2¬≥ = 8, 2‚Å¥ = 16)</li>
                                <li>Array of size 100: maximum 7 steps (because 2‚Å∑ = 128)</li>
                                <li>Array of size 1,000: maximum 10 steps (because 2¬π‚Å∞ = 1,024)</li>
                                <li>Array of size 1,000,000: maximum 20 steps (because 2¬≤‚Å∞ = 1,048,576)</li>
                            </ul>
                            <p><strong>Each time we double the array size, we only add 1 more step!</strong></p>
                        </div>
                    </div>
                    
                    <!-- O(n) - Linear Time -->
                    <div class="complexity-section">
                        <h4><span class="complexity-badge o-n">O(n)</span> Linear Time</h4>
                        <p><strong>Analogy:</strong> Reading a book page by page</p>
                        
                        <div class="code-container">
                            <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">find_maximum_detailed</span>(arr):
    <span class="comment"># We must check every element because the maximum could be anywhere</span>
    max_value = arr[<span class="number">0</span>]
    
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(<span class="function">len</span>(arr)):
        <span class="function">print</span>(<span class="string">f"Checking element {i}: {arr[i]}"</span>)
        <span class="keyword">if</span> arr[i] > max_value:
            <span class="function">print</span>(<span class="string">f"  New maximum found: {arr[i]}"</span>)
            max_value = arr[i]
    
    <span class="keyword">return</span> max_value

<span class="comment"># If arr has 10 elements: 10 checks</span>
<span class="comment"># If arr has 1,000 elements: 1,000 checks</span>
<span class="comment"># If arr has 1,000,000 elements: 1,000,000 checks</span></code></pre>
                            </div>
                        </div>
                        <p><strong>The time grows exactly proportionally to input size.</strong></p>
                    </div>
                    
                    <!-- O(n¬≤) - Quadratic Time -->
                    <div class="complexity-section">
                        <h4><span class="complexity-badge o-n2">O(n¬≤)</span> Quadratic Time</h4>
                        <p><strong>Analogy:</strong> Comparing every student with every other student in a class</p>
                        
                        <div class="code-container">
                            <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">bubble_sort_detailed</span>(arr):
    n = <span class="function">len</span>(arr)
    comparisons = <span class="number">0</span>
    
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n):
        <span class="function">print</span>(<span class="string">f"\\nPass {i+1}:"</span>)
        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="function">range</span>(<span class="number">0</span>, n-i-<span class="number">1</span>):
            comparisons += <span class="number">1</span>
            <span class="function">print</span>(<span class="string">f"  Comparing {arr[j]} and {arr[j+1]}"</span>, end=<span class="string">""</span>)
            
            <span class="keyword">if</span> arr[j] > arr[j+<span class="number">1</span>]:
                arr[j], arr[j+<span class="number">1</span>] = arr[j+<span class="number">1</span>], arr[j]
                <span class="function">print</span>(<span class="string">" -> Swapped!"</span>)
            <span class="keyword">else</span>:
                <span class="function">print</span>(<span class="string">" -> No swap needed"</span>)
    
    <span class="function">print</span>(<span class="string">f"\\nTotal comparisons: {comparisons}"</span>)
    <span class="keyword">return</span> arr

<span class="comment"># For array of size 5: 25 comparisons</span>
<span class="comment"># For array of size 10: 100 comparisons</span>
<span class="comment"># For array of size 100: 10,000 comparisons</span></code></pre>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Complexity Calculation Rules -->
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üßÆ</div>
                        <h3>How to Calculate Time Complexity - Step by Step</h3>
                    </div>
                    
                    <div class="code-container">
                        <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">example_function</span>(n):
    <span class="comment"># PART 1: Simple statements</span>
    a = <span class="number">5</span>                <span class="comment"># O(1) - one assignment</span>
    b = <span class="number">10</span>               <span class="comment"># O(1) - one assignment</span>
    c = a + b            <span class="comment"># O(1) - one addition, one assignment</span>
    
    <span class="comment"># PART 2: Single loop</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n):           <span class="comment"># This loop runs n times</span>
        <span class="function">print</span>(i)                 <span class="comment"># O(1) operation done n times = O(n)</span>
    
    <span class="comment"># PART 3: Nested loops</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n):           <span class="comment"># Outer loop runs n times</span>
        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="function">range</span>(n):       <span class="comment"># Inner loop runs n times for each outer</span>
            <span class="function">print</span>(i, j)          <span class="comment"># O(1) done n√ón times = O(n¬≤)</span>
    
    <span class="comment"># PART 4: Another single loop</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n):           <span class="comment"># This loop runs n times</span>
        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="function">range</span>(<span class="number">5</span>):       <span class="comment"># This loop always runs 5 times</span>
            <span class="function">print</span>(i, j)          <span class="comment"># O(1) done n√ó5 times = O(5n) = O(n)</span>
    
    <span class="comment"># Total: O(1) + O(1) + O(1) + O(n) + O(n¬≤) + O(n)</span>
    <span class="comment"># We keep only the largest term: O(n¬≤)</span></code></pre>
                        </div>
                    </div>
                    
                    <div class="rules-section">
                        <h4>The Rules for Combining Complexities:</h4>
                        
                        <div class="rule-grid">
                            <div class="rule-item">
                                <h5>1. Addition Rule (Sequential Code)</h5>
                                <p>O(n) + O(m) = O(n + m)</p>
                                <div class="rule-example">
<pre><code><span class="comment"># First loop: O(n)</span>
<span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n):
    <span class="function">print</span>(i)

<span class="comment"># Second loop: O(m)</span>
<span class="keyword">for</span> j <span class="keyword">in</span> <span class="function">range</span>(m):
    <span class="function">print</span>(j)

<span class="comment"># Total: O(n) + O(m) = O(n + m)</span></code></pre>
                                </div>
                            </div>
                            
                            <div class="rule-item">
                                <h5>2. Multiplication Rule (Nested Code)</h5>
                                <p>O(n) √ó O(m) √ó O(1) = O(n √ó m)</p>
                                <div class="rule-example">
<pre><code><span class="comment"># Outer loop: O(n)</span>
<span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n):
    <span class="comment"># Inner loop: O(m)</span>
    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="function">range</span>(m):
        <span class="function">print</span>(i, j)   <span class="comment"># O(1)</span>

<span class="comment"># Total: O(n) √ó O(m) √ó O(1) = O(n √ó m)</span></code></pre>
                                </div>
                            </div>
                            
                            <div class="rule-item">
                                <h5>3. Drop Constants</h5>
                                <p>O(3n) becomes O(n)</p>
                                <div class="rule-example">
<pre><code><span class="comment"># This is O(3n), but we write it as O(n)</span>
<span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(<span class="number">3</span> * n):
    <span class="function">print</span>(i)</code></pre>
                                </div>
                            </div>
                            
                            <div class="rule-item">
                                <h5>4. Drop Lower Order Terms</h5>
                                <p>O(n¬≤ + n) becomes O(n¬≤)</p>
                                <div class="rule-example">
<pre><code><span class="comment"># O(n¬≤) + O(n) = O(n¬≤)</span>
<span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n):
    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="function">range</span>(n):
        <span class="function">print</span>(i, j)   <span class="comment"># n¬≤ operations</span>

<span class="keyword">for</span> k <span class="keyword">in</span> <span class="function">range</span>(n):
    <span class="function">print</span>(k)   <span class="comment"># n operations</span></code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Advanced Complexity Topics Section -->
        <section id="advanced-topics">
            <div class="section-header" onclick="toggleSection('advanced-content')">
                <div class="section-title">
                    <div class="section-icon">üéì</div>
                    <div>
                        <h2>Advanced Topics & Best/Worst Case Analysis</h2>
                        <p style="margin: 0; font-size: 0.9rem; color: var(--text-muted);">Master theorem, recurrence relations, and case analysis</p>
                    </div>
                </div>
                <div class="expand-icon">‚ñº</div>
            </div>
            
            <div id="advanced-content" class="collapsible-content">
                <!-- Best, Average, Worst Case -->
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üì±</div>
                        <h3>Best, Average, and Worst Case Analysis</h3>
                    </div>
                    
                    <div class="story-analogy">
                        <h4>Understanding Different Cases with a Story</h4>
                        <p><strong>Imagine you lost your phone in your house:</strong></p>
                        <ul>
                            <li><strong>Best Case (Œ©):</strong> You find it immediately on the first table you check</li>
                            <li><strong>Average Case (Œò):</strong> You find it after checking half the rooms</li>
                            <li><strong>Worst Case (O):</strong> It's in the very last place you look</li>
                        </ul>
                    </div>
                    
                    <div class="code-container">
                        <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">linear_search_with_cases</span>(arr, target):
    comparisons = <span class="number">0</span>
    
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(<span class="function">len</span>(arr)):
        comparisons += <span class="number">1</span>
        <span class="keyword">if</span> arr[i] == target:
            <span class="function">print</span>(<span class="string">f"Found at index {i} after {comparisons} comparisons"</span>)
            <span class="keyword">return</span> i
    
    <span class="function">print</span>(<span class="string">f"Not found after {comparisons} comparisons"</span>)
    <span class="keyword">return</span> -<span class="number">1</span>

<span class="comment"># arr = [3, 7, 1, 9, 4, 6, 8, 2, 5]</span>
<span class="comment"># BEST CASE: Searching for 3 (first element) - Œ©(1)</span>
<span class="comment"># AVERAGE CASE: Searching for 4 (middle) - Œò(n/2) = Œò(n)</span>
<span class="comment"># WORST CASE: Searching for 5 (last) or 10 (not present) - O(n)</span></code></pre>
                        </div>
                    </div>
                </div>
                
                <!-- Common Pitfalls -->
                <div class="card">
                    <div class="card-header">
                        <div class="icon">‚ö†Ô∏è</div>
                        <h3>Common Pitfalls to Avoid</h3>
                    </div>
                    
                    <div class="pitfall-grid">
                        <div class="pitfall-item">
                            <h4>1. Hidden Loops in Functions</h4>
                            <div class="code-block">
<pre><code><span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n):
    <span class="keyword">if</span> i <span class="keyword">in</span> arr:   <span class="comment"># This is O(n)!</span>
        <span class="function">print</span>(i)
<span class="comment"># Total: O(n¬≤), not O(n)</span></code></pre>
                            </div>
                        </div>
                        
                        <div class="pitfall-item">
                            <h4>2. String Concatenation</h4>
                            <div class="code-block">
<pre><code>result = <span class="string">""</span>
<span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n):
    result += <span class="function">str</span>(i)   <span class="comment"># Creates new string each time!</span>
<span class="comment"># This is O(n¬≤) in many languages</span></code></pre>
                            </div>
                        </div>
                        
                        <div class="pitfall-item">
                            <h4>3. Sorting Inside Loops</h4>
                            <div class="code-block">
<pre><code><span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n):
    arr.sort()   <span class="comment"># O(n log n) inside O(n) loop</span>
<span class="comment"># Total: O(n¬≤ log n)</span></code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Space Complexity Section -->
        <section id="space-complexity">
            <div class="section-header" onclick="toggleSection('space-content')">
                <div class="section-title">
                    <div class="section-icon">üíæ</div>
                    <div>
                        <h2>Space Complexity - Memory Usage Explained</h2>
                        <p style="margin: 0; font-size: 0.9rem; color: var(--text-muted);">Understanding memory consumption</p>
                    </div>
                </div>
                <div class="expand-icon">‚ñº</div>
            </div>
            
            <div id="space-content" class="collapsible-content active">
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üè¢</div>
                        <h3>Understanding Computer Memory - A Deep Dive</h3>
                    </div>
                    
                    <div class="memory-intro">
                        <p><strong>Think of computer memory like a huge apartment building:</strong></p>
                        <ul>
                            <li>Each apartment (memory location) has a unique address</li>
                            <li>Each apartment can hold one piece of data (integer, character, etc.)</li>
                            <li>Some data needs multiple adjacent apartments (arrays, objects)</li>
                            <li>The building has different floors (Stack vs Heap memory)</li>
                        </ul>
                    </div>
                    
                    <div class="memory-deep-dive">
                        <h4>Memory Layout in Detail:</h4>
                        
                        <div class="memory-section">
                            <h5>ü•û Stack Memory (LIFO - Last In, First Out)</h5>
                            <div class="memory-characteristics">
                                <ul>
                                    <li><strong>Purpose:</strong> Local variables, function parameters, return addresses</li>
                                    <li><strong>Speed:</strong> Very fast allocation/deallocation</li>
                                    <li><strong>Size:</strong> Limited (usually a few MB)</li>
                                    <li><strong>Management:</strong> Automatic (handled by compiler)</li>
                                    <li><strong>Growth:</strong> Grows downward in memory</li>
                                </ul>
                            </div>
                            
                            <div class="stack-diagram">
                                <div style="font-family: monospace; margin: 1rem 0; background: rgba(58, 166, 255, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #3aa6ff;">
<strong>Stack Memory Layout:</strong><br><br>
High Memory Address<br>
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚Üê Stack Pointer (SP)<br>
‚îÇ   Variable c    ‚îÇ ‚Üê Most recent<br>
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§<br>
‚îÇ   Variable b    ‚îÇ<br>
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§<br>
‚îÇ   Variable a    ‚îÇ ‚Üê Oldest<br>
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§<br>
‚îÇ   Function Args ‚îÇ<br>
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§<br>
‚îÇ  Return Address ‚îÇ<br>
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò<br>
Low Memory Address
                                </div>
                            </div>
                        </div>
                        
                        <div class="memory-section">
                            <h5>üè™ Heap Memory (Dynamic Allocation)</h5>
                            <div class="memory-characteristics">
                                <ul>
                                    <li><strong>Purpose:</strong> Dynamic data structures (arrays, objects, trees)</li>
                                    <li><strong>Speed:</strong> Slower allocation/deallocation</li>
                                    <li><strong>Size:</strong> Large (limited by system RAM)</li>
                                    <li><strong>Management:</strong> Manual (programmer responsibility)</li>
                                    <li><strong>Growth:</strong> Can grow in any direction</li>
                                </ul>
                            </div>
                            
                            <div class="heap-diagram">
                                <div style="font-family: monospace; margin: 1rem 0; background: rgba(255, 181, 107, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #ffb56b;">
<strong>Heap Memory Layout:</strong><br><br>
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê<br>
‚îÇ Array [1,2,3,4,5,6,7,8,9,10] ‚îÇ ‚Üê Contiguous memory block<br>
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§<br>
‚îÇ          Free Space          ‚îÇ<br>
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§<br>
‚îÇ  Object {name: "John",       ‚îÇ ‚Üê Object with multiple fields<br>
‚îÇ          age: 25,            ‚îÇ<br>
‚îÇ          city: "NYC"}        ‚îÇ<br>
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§<br>
‚îÇ          Free Space          ‚îÇ<br>
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§<br>
‚îÇ    Linked List Nodes        ‚îÇ ‚Üê Scattered throughout heap<br>
‚îÇ  [Node] ‚Üí [Node] ‚Üí [Node]    ‚îÇ<br>
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="memory-comparison">
                        <h4>Stack vs Heap Comparison:</h4>
                        <div class="comparison-table">
                            <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                                <thead>
                                    <tr style="background: rgba(255, 255, 255, 0.1);">
                                        <th style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2);">Aspect</th>
                                        <th style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2);">Stack</th>
                                        <th style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2);">Heap</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2); font-weight: bold;">Allocation Speed</td>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2); color: #3fb950;">Very Fast</td>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2); color: #ff6b6b;">Slower</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2); font-weight: bold;">Memory Management</td>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2); color: #3fb950;">Automatic</td>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2); color: #ff6b6b;">Manual</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2); font-weight: bold;">Size Limit</td>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2); color: #ff6b6b;">Small (~8MB)</td>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2); color: #3fb950;">Large (RAM limit)</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2); font-weight: bold;">Access Pattern</td>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2);">LIFO</td>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2);">Random</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2); font-weight: bold;">Fragmentation</td>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2); color: #3fb950;">No</td>
                                        <td style="padding: 0.8rem; border: 1px solid rgba(255,255,255,0.2); color: #ff6b6b;">Yes</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üìè</div>
                        <h3>Types of Space Complexity - Comprehensive Analysis</h3>
                    </div>
                    
                    <div class="space-complexity-intro">
                        <p>When analyzing space complexity, we need to consider different types of memory usage. Understanding these distinctions helps us optimize our algorithms effectively.</p>
                    </div>
                    
                    <div class="space-types-detailed">
                        <div class="space-type-detailed">
                            <h4>1. üéØ Auxiliary Space (Extra Space)</h4>
                            <div class="space-explanation">
                                <p><strong>Definition:</strong> Extra space used by your algorithm beyond the input data.</p>
                                <p><strong>What counts:</strong></p>
                                <ul>
                                    <li>Temporary variables and arrays created by your algorithm</li>
                                    <li>Recursion call stack space</li>
                                    <li>Working memory for intermediate calculations</li>
                                    <li>Helper data structures (hash tables, queues, etc.)</li>
                                </ul>
                                <p><strong>What doesn't count:</strong> The original input data</p>
                            </div>
                        </div>
                        
                        <div class="space-type-detailed">
                            <h4>2. üì• Input Space</h4>
                            <div class="space-explanation">
                                <p><strong>Definition:</strong> Memory required to store the input data.</p>
                                <p><strong>Examples:</strong></p>
                                <ul>
                                    <li>An array of n integers: n √ó 4 bytes (assuming 32-bit integers)</li>
                                    <li>A string of length n: n √ó 1 byte (ASCII) or n √ó 4 bytes (Unicode)</li>
                                    <li>A matrix of size n√óm: n √ó m √ó (size of each element)</li>
                                </ul>
                                <p><strong>Note:</strong> Usually considered given and not optimizable</p>
                            </div>
                        </div>
                        
                        <div class="space-type-detailed">
                            <h4>3. üìä Total Space</h4>
                            <div class="space-explanation">
                                <p><strong>Definition:</strong> Auxiliary Space + Input Space</p>
                                <p><strong>Formula:</strong> Total Space = Input Space + Auxiliary Space</p>
                                <p><strong>Usage:</strong> Important for understanding overall memory footprint</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="detailed-example">
                        <h4>üî¨ Detailed Space Analysis Example:</h4>
                        <div class="code-container">
                            <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">comprehensive_space_example</span>(arr):   <span class="comment"># arr is input space: O(n)</span>
    <span class="comment"># === AUXILIARY SPACE ANALYSIS ===</span>
    
    <span class="comment"># 1. Simple variables - O(1) each</span>
    n = <span class="function">len</span>(arr)              <span class="comment"># O(1) - single integer (4 bytes)</span>
    total = <span class="number">0</span>                 <span class="comment"># O(1) - single integer (4 bytes)</span>
    max_val = <span class="function">float</span>(<span class="string">'-inf'</span>)    <span class="comment"># O(1) - single float (8 bytes)</span>
    
    <span class="comment"># 2. Creating new array - O(n) auxiliary space</span>
    doubled = []                <span class="comment"># Initially empty, but will grow</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n):          <span class="comment"># Loop variable: O(1)</span>
        doubled.append(arr[i] * <span class="number">2</span>)  <span class="comment"># Adding n elements: O(n) total</span>
    
    <span class="comment"># 3. Creating 2D matrix - O(n¬≤) auxiliary space</span>
    matrix = []
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n):          <span class="comment"># Outer loop: n iterations</span>
        row = []                <span class="comment"># New row for each iteration</span>
        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="function">range</span>(n):      <span class="comment"># Inner loop: n iterations</span>
            row.append(<span class="number">0</span>)        <span class="comment"># Adding n elements per row</span>
        matrix.append(row)      <span class="comment"># Total: n √ó n = n¬≤ elements</span>
    
    <span class="comment"># 4. Hash table for counting - O(k) where k ‚â§ n</span>
    frequency = {}              <span class="comment"># Dictionary for unique elements</span>
    <span class="keyword">for</span> element <span class="keyword">in</span> arr:
        <span class="keyword">if</span> element <span class="keyword">in</span> frequency:
            frequency[element] += <span class="number">1</span>
        <span class="keyword">else</span>:
            frequency[element] = <span class="number">1</span>
    
    <span class="comment"># === SPACE COMPLEXITY CALCULATION ===</span>
    <span class="comment"># Simple variables: O(1) + O(1) + O(1) = O(1)</span>
    <span class="comment"># Doubled array: O(n)</span>
    <span class="comment"># Matrix: O(n¬≤)</span>
    <span class="comment"># Hash table: O(k) where k ‚â§ n, so O(n) worst case</span>
    <span class="comment"># </span>
    <span class="comment"># Total auxiliary space: O(1) + O(n) + O(n¬≤) + O(n) = O(n¬≤)</span>
    <span class="comment"># Total space (including input): O(n) + O(n¬≤) = O(n¬≤)</span>
    
    <span class="keyword">return</span> doubled, matrix, frequency</code></pre>
                            </div>
                        </div>
                    </div>
                    
                    <div class="memory-calculation">
                        <h4>üßÆ Memory Size Calculations:</h4>
                        <div class="calculation-examples">
                            <div class="calc-example">
                                <h5>Example: Processing an array of 1,000 integers</h5>
                                <ul>
                                    <li><strong>Input Space:</strong> 1,000 √ó 4 bytes = 4,000 bytes (4 KB)</li>
                                    <li><strong>Doubled Array:</strong> 1,000 √ó 4 bytes = 4,000 bytes (4 KB)</li>
                                    <li><strong>Matrix:</strong> 1,000 √ó 1,000 √ó 4 bytes = 4,000,000 bytes (4 MB)</li>
                                    <li><strong>Variables:</strong> ~20 bytes (negligible)</li>
                                    <li><strong>Total:</strong> ~4 MB + 8 KB ‚âà 4 MB</li>
                                </ul>
                            </div>
                            
                            <div class="calc-example">
                                <h5>Scaling Analysis:</h5>
                                <div class="scaling-table">
                                    <table style="width: 100%; border-collapse: collapse; margin: 0.5rem 0;">
                                        <thead>
                                            <tr style="background: rgba(255, 255, 255, 0.1);">
                                                <th style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">Input Size (n)</th>
                                                <th style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">Input Space</th>
                                                <th style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">Auxiliary Space</th>
                                                <th style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">Total Space</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">100</td>
                                                <td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">400 B</td>
                                                <td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">40 KB</td>
                                                <td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">40.4 KB</td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">1,000</td>
                                                <td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">4 KB</td>
                                                <td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">4 MB</td>
                                                <td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">4 MB</td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">10,000</td>
                                                <td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">40 KB</td>
                                                <td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">400 MB</td>
                                                <td style="padding: 0.5rem; border: 1px solid rgba(255,255,255,0.2);">400 MB</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üìö</div>
                        <h3>Stack Space in Recursion - Complete Analysis</h3>
                    </div>
                    
                    <div class="recursion-intro">
                        <p><strong>Understanding Recursion Memory:</strong> Each recursive call creates a new stack frame containing:</p>
                        <ul>
                            <li><strong>Parameters:</strong> Arguments passed to the function</li>
                            <li><strong>Local Variables:</strong> Variables declared within the function</li>
                            <li><strong>Return Address:</strong> Where to return after function completes</li>
                            <li><strong>Saved Registers:</strong> CPU state preservation</li>
                        </ul>
                    </div>
                    
                    <div class="recursion-examples">
                        <h4>üîç Example 1: Factorial Function Analysis</h4>
                        <div class="code-container">
                            <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">factorial</span>(n):
    <span class="comment"># Stack frame contents for each call:</span>
    <span class="comment"># - Parameter: n (4 bytes)</span>
    <span class="comment"># - Local variable: result (4 bytes)</span>
    <span class="comment"># - Return address (8 bytes on 64-bit systems)</span>
    <span class="comment"># - Saved registers (~32 bytes)</span>
    <span class="comment"># Total per frame: ~48 bytes</span>
    
    <span class="function">print</span>(<span class="string">f"Called factorial({n}) - Stack depth: {n}"</span>)
    
    <span class="keyword">if</span> n <= <span class="number">1</span>:
        <span class="function">print</span>(<span class="string">f"Base case reached: factorial(1) = 1"</span>)
        <span class="keyword">return</span> <span class="number">1</span>
    
    <span class="function">print</span>(<span class="string">f"Calculating: {n} * factorial({n-1})"</span>)
    result = n * factorial(n - <span class="number">1</span>)  <span class="comment"># Recursive call</span>
    
    <span class="function">print</span>(<span class="string">f"Returning: factorial({n}) = {result}"</span>)
    <span class="keyword">return</span> result

<span class="comment"># Memory usage for factorial(5):</span>
<span class="comment"># 5 stack frames √ó 48 bytes = 240 bytes total</span>
<span class="comment"># Space complexity: O(n)</span></code></pre>
                            </div>
                        </div>
                        
                        <div class="stack-visualization-detailed">
                            <h4>üìä Detailed Call Stack Evolution:</h4>
                            <div class="stack-steps-detailed">
                                <div class="stack-step-detailed">
                                    <strong>Step 1: factorial(5) called</strong>
                                    <div class="stack-frame-detailed">
                                        <div class="frame-detailed active">
                                            <div class="frame-header">factorial(5)</div>
                                            <div class="frame-content">
                                                <div>n = 5</div>
                                                <div>result = undefined</div>
                                                <div>return_addr = main()</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="memory-usage">Memory: 48 bytes</div>
                                </div>
                                
                                <div class="stack-step-detailed">
                                    <strong>Step 2: factorial(4) called</strong>
                                    <div class="stack-frame-detailed">
                                        <div class="frame-detailed active">
                                            <div class="frame-header">factorial(4)</div>
                                            <div class="frame-content">
                                                <div>n = 4</div>
                                                <div>result = undefined</div>
                                                <div>return_addr = factorial(5)</div>
                                            </div>
                                        </div>
                                        <div class="frame-detailed">
                                            <div class="frame-header">factorial(5)</div>
                                            <div class="frame-content">
                                                <div>n = 5</div>
                                                <div>result = waiting...</div>
                                                <div>return_addr = main()</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="memory-usage">Memory: 96 bytes</div>
                                </div>
                                
                                <div class="stack-step-detailed">
                                    <strong>Step 3: factorial(3) called</strong>
                                    <div class="stack-frame-detailed">
                                        <div class="frame-detailed active">
                                            <div class="frame-header">factorial(3)</div>
                                            <div class="frame-content">
                                                <div>n = 3</div>
                                                <div>result = undefined</div>
                                                <div>return_addr = factorial(4)</div>
                                            </div>
                                        </div>
                                        <div class="frame-detailed">
                                            <div class="frame-header">factorial(4)</div>
                                            <div class="frame-content">
                                                <div>n = 4</div>
                                                <div>result = waiting...</div>
                                                <div>return_addr = factorial(5)</div>
                                            </div>
                                        </div>
                                        <div class="frame-detailed">
                                            <div class="frame-header">factorial(5)</div>
                                            <div class="frame-content">
                                                <div>n = 5</div>
                                                <div>result = waiting...</div>
                                                <div>return_addr = main()</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="memory-usage">Memory: 144 bytes</div>
                                </div>
                                
                                <div class="stack-step-detailed">
                                    <strong>Maximum Depth: factorial(1) called</strong>
                                    <div class="stack-summary">
                                        <p>üìà <strong>Peak Memory Usage:</strong> 5 frames √ó 48 bytes = 240 bytes</p>
                                        <p>üìè <strong>Maximum Stack Depth:</strong> 5 levels deep</p>
                                        <p>üîÑ <strong>Space Complexity:</strong> O(n) where n is the input value</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <h4>üå≥ Example 2: Binary Tree Traversal</h4>
                        <div class="code-container">
                            <div class="code-block">
<pre><code><span class="keyword">class</span> <span class="function">TreeNode</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(<span class="variable">self</span>, val=<span class="number">0</span>, left=<span class="keyword">None</span>, right=<span class="keyword">None</span>):
        <span class="variable">self</span>.val = val
        <span class="variable">self</span>.left = left
        <span class="variable">self</span>.right = right

<span class="keyword">def</span> <span class="function">inorder_traversal</span>(root):
    <span class="comment"># Each recursive call uses:</span>
    <span class="comment"># - Parameter: root (8 bytes pointer)</span>
    <span class="comment"># - Return address (8 bytes)</span>
    <span class="comment"># - Saved registers (~32 bytes)</span>
    <span class="comment"># Total per frame: ~48 bytes</span>
    
    <span class="keyword">if</span> root <span class="keyword">is</span> <span class="keyword">None</span>:
        <span class="keyword">return</span> []
    
    <span class="comment"># Three recursive calls for each node:</span>
    result = []
    result.extend(inorder_traversal(root.left))   <span class="comment"># Left subtree</span>
    result.append(root.val)                       <span class="comment"># Current node</span>
    result.extend(inorder_traversal(root.right))  <span class="comment"># Right subtree</span>
    
    <span class="keyword">return</span> result

<span class="comment"># For a balanced binary tree with n nodes:</span>
<span class="comment"># Maximum recursion depth = log‚ÇÇ(n)</span>
<span class="comment"># Space complexity: O(log n) for balanced tree</span>
<span class="comment"># Space complexity: O(n) for skewed tree (worst case)</span></code></pre>
                            </div>
                        </div>
                        
                        <h4>üîÑ Example 3: Fibonacci - Exponential Space Issue</h4>
                        <div class="code-container">
                            <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">fibonacci_naive</span>(n):
    <span class="comment"># WARNING: Inefficient implementation!</span>
    <span class="comment"># This creates overlapping subproblems</span>
    
    <span class="keyword">if</span> n <= <span class="number">1</span>:
        <span class="keyword">return</span> n
    
    <span class="comment"># Two recursive calls create binary tree of calls</span>
    <span class="keyword">return</span> fibonacci_naive(n-<span class="number">1</span>) + fibonacci_naive(n-<span class="number">2</span>)

<span class="comment"># Call tree for fibonacci_naive(5):</span>
<span class="comment">#                    fib(5)</span>
<span class="comment">#                   /      \</span>
<span class="comment">#               fib(4)    fib(3)</span>
<span class="comment">#              /    \     /    \</span>
<span class="comment">#          fib(3) fib(2) fib(2) fib(1)</span>
<span class="comment">#          /   \   /  \   /  \</span>
<span class="comment">#      fib(2) fib(1) ... many more calls</span>
<span class="comment">#</span>
<span class="comment"># Maximum stack depth: n (worst path down the tree)</span>
<span class="comment"># Space complexity: O(n) due to maximum recursion depth</span>

<span class="keyword">def</span> <span class="function">fibonacci_optimized</span>(n, memo={}):
    <span class="comment"># Optimized with memoization</span>
    <span class="keyword">if</span> n <span class="keyword">in</span> memo:
        <span class="keyword">return</span> memo[n]
    
    <span class="keyword">if</span> n <= <span class="number">1</span>:
        <span class="keyword">return</span> n
    
    memo[n] = fibonacci_optimized(n-<span class="number">1</span>, memo) + fibonacci_optimized(n-<span class="number">2</span>, memo)
    <span class="keyword">return</span> memo[n]

<span class="comment"># Space complexity: O(n) for memoization + O(n) for recursion = O(n)</span></code></pre>
                            </div>
                        </div>
                    </div>
                    
                    <div class="recursion-guidelines">
                        <h4>‚ö†Ô∏è Stack Overflow Prevention:</h4>
                        <div class="guidelines-grid">
                            <div class="guideline-item">
                                <h5>üö® Danger Signs</h5>
                                <ul>
                                    <li>Recursion depth > 1000 (Python default limit)</li>
                                    <li>No clear base case</li>
                                    <li>Exponential recursive calls (like naive Fibonacci)</li>
                                    <li>Large objects passed by value in recursion</li>
                                </ul>
                            </div>
                            
                            <div class="guideline-item">
                                <h5>‚úÖ Best Practices</h5>
                                <ul>
                                    <li>Always define clear base cases</li>
                                    <li>Use iteration for simple loops</li>
                                    <li>Consider tail recursion optimization</li>
                                    <li>Use memoization for overlapping subproblems</li>
                                    <li>Pass references, not large objects</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üîç</div>
                        <h3>Common Space Complexity Patterns</h3>
                    </div>
                    
                    <div class="pattern-grid">
                        <div class="pattern-item">
                            <h4><span class="complexity-badge o-1">O(1)</span> Space</h4>
                            <p>Using only a fixed number of variables</p>
                            <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">find_sum</span>(arr):
    total = <span class="number">0</span>
    <span class="keyword">for</span> num <span class="keyword">in</span> arr:
        total += num
    <span class="keyword">return</span> total</code></pre>
                            </div>
                        </div>
                        
                        <div class="pattern-item">
                            <h4><span class="complexity-badge o-n">O(n)</span> Space</h4>
                            <p>Creating array proportional to input</p>
                            <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">create_doubled_array</span>(arr):
    result = []
    <span class="keyword">for</span> num <span class="keyword">in</span> arr:
        result.append(num * <span class="number">2</span>)
    <span class="keyword">return</span> result</code></pre>
                            </div>
                        </div>
                        
                        <div class="pattern-item">
                            <h4><span class="complexity-badge o-n2">O(n¬≤)</span> Space</h4>
                            <p>Creating 2D array</p>
                            <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">create_matrix</span>(n):
    matrix = [[<span class="number">0</span>] * n <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="function">range</span>(n)]
    <span class="keyword">return</span> matrix</code></pre>
                            </div>
                        </div>
                        
                        <div class="pattern-item">
                            <h4><span class="complexity-badge o-log-n">O(log n)</span> Space</h4>
                            <p>Balanced tree recursion</p>
                            <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">binary_search_recursive</span>(arr, target, left, right):
    <span class="keyword">if</span> left > right:
        <span class="keyword">return</span> -<span class="number">1</span>
    mid = (left + right) // <span class="number">2</span>
    <span class="keyword">if</span> arr[mid] == target:
        <span class="keyword">return</span> mid
    <span class="keyword">elif</span> arr[mid] < target:
        <span class="keyword">return</span> binary_search_recursive(arr, target, mid+<span class="number">1</span>, right)
    <span class="keyword">else</span>:
        <span class="keyword">return</span> binary_search_recursive(arr, target, left, mid-<span class="number">1</span>)
<span class="comment"># Maximum recursion depth = log n</span></code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Examples Section -->
        <section id="examples">
            <div class="section-header" onclick="toggleSection('examples-content')">
                <div class="section-title">
                    <div class="section-icon">üßÆ</div>
                    <div>
                        <h2>Practical Examples & Algorithm Analysis</h2>
                        <p style="margin: 0; font-size: 0.9rem; color: var(--text-muted);">Real algorithm implementations and analysis</p>
                    </div>
                </div>
                <div class="expand-icon">‚ñº</div>
            </div>
            
            <div id="examples-content" class="collapsible-content active">
                <!-- Binary Search Analysis -->
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üîç</div>
                        <h3>Binary Search - O(log n) in Action</h3>
                    </div>
                    
                    <div class="code-block">
<pre><code>def binary_search(arr, target):
    left, right = 0, len(arr) - 1
    steps = 0
    
    while left <= right:
        steps += 1
        mid = (left + right) // 2
        
        if arr[mid] == target:
            return mid, steps
        elif arr[mid] < target:
            left = mid + 1
        else:
            right = mid - 1
    
    return -1, steps</code></pre>
                    </div>
                    
                    <div class="interactive-example">
                        <h4>Try Binary Search:</h4>
                        <input type="text" id="binary-array" placeholder="Enter sorted array: 1,3,5,7,9,11,13" value="1,3,5,7,9,11,13">
                        <input type="number" id="binary-target" placeholder="Target" value="7">
                        <button onclick="simulateBinarySearchDetailed()">Search</button>
                        <div id="binary-search-output" class="output-display">
                            <div><strong>Enter values above and click Search to see step-by-step binary search</strong></div>
                        </div>
                    </div>
                </div>
                
                <!-- Algorithm Comparison -->
                <div class="card">
                    <div class="card-header">
                        <div class="icon">‚ö°</div>
                        <h3>Algorithm Performance Comparison</h3>
                    </div>
                    
                    <div class="interactive-example">
                        <h4>Compare Algorithm Complexities:</h4>
                        <select id="algorithm-select">
                            <option value="linear">Linear Search - O(n)</option>
                            <option value="binary">Binary Search - O(log n)</option>
                            <option value="bubble">Bubble Sort - O(n¬≤)</option>
                            <option value="merge">Merge Sort - O(n log n)</option>
                        </select>
                        <input type="number" id="comparison-n" placeholder="Input size (n)" value="1000">
                        <button onclick="compareAlgorithms()">Analyze</button>
                        <div id="comparison-output" class="output-display">
                            <div><strong>Select an algorithm and input size to see performance analysis</strong></div>
                        </div>
                    </div>
                </div>
                
                <!-- Space Complexity Visualization -->
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üíæ</div>
                        <h3>Space Complexity in Practice</h3>
                    </div>
                    
                    <div class="code-block">
<pre><code>def space_example(n):
    # O(1) space - just variables
    total = 0
    count = 0
    
    # O(n) space - array of size n
    arr_copy = [0] * n
    
    # O(n¬≤) space - matrix of size n√ón
    matrix = [[0] * n for _ in range(n)]
    
    return total, arr_copy, matrix</code></pre>
                    </div>
                    
                    <div class="interactive-example">
                        <h4>Memory Usage Calculator:</h4>
                        <input type="number" id="space-n" placeholder="Input size (n)" value="10">
                        <button onclick="visualizeSpaceUsage()">Calculate Memory</button>
                        <div id="space-output" class="output-display">
                            <div><strong>Enter input size to see memory usage breakdown</strong></div>
                        </div>
                        <div id="memory-visualization" style="margin-top: 1rem;">
                            <!-- Memory blocks will be displayed here -->
                        </div>
                    </div>
                </div>
                
                <!-- Space Complexity Chart -->
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üìä</div>
                        <h3>Space Complexity Growth Chart</h3>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="space-chart-canvas" width="700" height="450"></canvas>
                        <div class="complexity-legend">
                            <div class="legend-item" onclick="highlightSpaceComplexity('O(1)')">
                                <span class="complexity-badge" style="background: #3fb950;">O(1)</span> Constant Space
                            </div>
                            <div class="legend-item" onclick="highlightSpaceComplexity('O(log n)')">
                                <span class="complexity-badge" style="background: #58a6ff;">O(log n)</span> Logarithmic Space
                            </div>
                            <div class="legend-item" onclick="highlightSpaceComplexity('O(n)')">
                                <span class="complexity-badge" style="background: #e3b341;">O(n)</span> Linear Space
                            </div>
                            <div class="legend-item" onclick="highlightSpaceComplexity('O(n log n)')">
                                <span class="complexity-badge" style="background: #f78166;">O(n log n)</span> Linearithmic Space
                            </div>
                            <div class="legend-item" onclick="highlightSpaceComplexity('O(n¬≤)')">
                                <span class="complexity-badge" style="background: #ff6b6b;">O(n¬≤)</span> Quadratic Space
                            </div>
                            <div class="legend-item" onclick="highlightSpaceComplexity('O(2‚Åø)')">
                                <span class="complexity-badge" style="background: #bc8cff;">O(2‚Åø)</span> Exponential Space
                            </div>
                        </div>
                        <div class="chart-description">
                            <p><strong>This chart shows how memory usage grows with input size.</strong> Notice how quickly space requirements explode for quadratic and exponential algorithms!</p>
                        </div>
                    </div>
                </div>

                <!-- Space Complexity Examples with Real Memory Usage -->
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üî¢</div>
                        <h3>Real-World Space Examples</h3>
                    </div>
                    
                    <div class="space-examples-grid">
                        <div class="space-example-item">
                            <h4>üì¶ O(1) - Constant Space</h4>
                            <div class="code-container">
                                <div class="code-header">
                                    <span class="code-title">Example: Variable Swapping</span>
                                </div>
                                <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">swap</span>(a, b):
    <span class="comment"># Uses only 1 extra variable</span>
    temp = a  <span class="comment"># +4 bytes (int)</span>
    a = b
    b = temp
    <span class="keyword">return</span> a, b

<span class="comment"># Memory usage: 4 bytes regardless of input size</span>
<span class="comment"># Space complexity: O(1)</span></code></pre>
                                </div>
                            </div>
                            <p><strong>Memory:</strong> Always uses exactly 4 bytes for temp variable</p>
                        </div>

                        <div class="space-example-item">
                            <h4>üìà O(log n) - Logarithmic Space</h4>
                            <div class="code-container">
                                <div class="code-header">
                                    <span class="code-title">Example: Binary Search (Recursive)</span>
                                </div>
                                <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">binary_search</span>(arr, target, left, right):
    <span class="keyword">if</span> left > right:
        <span class="keyword">return</span> -<span class="number">1</span>
    
    mid = (left + right) // <span class="number">2</span>
    <span class="keyword">if</span> arr[mid] == target:
        <span class="keyword">return</span> mid
    <span class="keyword">elif</span> arr[mid] < target:
        <span class="keyword">return</span> binary_search(arr, target, mid+<span class="number">1</span>, right)
    <span class="keyword">else</span>:
        <span class="keyword">return</span> binary_search(arr, target, left, mid-<span class="number">1</span>)

<span class="comment"># Stack depth: log‚ÇÇ(n) function calls</span>
<span class="comment"># Each call: ~32 bytes (parameters + return address)</span>
<span class="comment"># Total: 32 √ó log‚ÇÇ(n) bytes</span></code></pre>
                                </div>
                            </div>
                            <p><strong>Memory:</strong> For n=1000: ~32 √ó 10 = 320 bytes</p>
                        </div>

                        <div class="space-example-item">
                            <h4>üìä O(n) - Linear Space</h4>
                            <div class="code-container">
                                <div class="code-header">
                                    <span class="code-title">Example: Array Copy</span>
                                </div>
                                <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">reverse_array</span>(arr):
    <span class="comment"># Create a new array of same size</span>
    reversed_arr = [<span class="number">0</span>] * <span class="function">len</span>(arr)  <span class="comment"># n √ó 4 bytes</span>
    
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(<span class="function">len</span>(arr)):
        reversed_arr[i] = arr[<span class="function">len</span>(arr) - <span class="number">1</span> - i]
    
    <span class="keyword">return</span> reversed_arr

<span class="comment"># Memory: n √ó 4 bytes (assuming 32-bit integers)</span>
<span class="comment"># Space complexity: O(n)</span></code></pre>
                                </div>
                            </div>
                            <p><strong>Memory:</strong> For n=1000: 4,000 bytes (4KB)</p>
                        </div>

                        <div class="space-example-item">
                            <h4>üî≥ O(n¬≤) - Quadratic Space</h4>
                            <div class="code-container">
                                <div class="code-header">
                                    <span class="code-title">Example: 2D Matrix</span>
                                </div>
                                <div class="code-block">
<pre><code><span class="keyword">def</span> <span class="function">create_distance_matrix</span>(points):
    n = <span class="function">len</span>(points)
    <span class="comment"># Create n√ón matrix for distances</span>
    matrix = [[<span class="number">0.0</span>] * n <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="function">range</span>(n)]
    
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(n):
        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="function">range</span>(n):
            matrix[i][j] = calculate_distance(points[i], points[j])
    
    <span class="keyword">return</span> matrix

<span class="comment"># Memory: n¬≤ √ó 8 bytes (assuming 64-bit floats)</span>
<span class="comment"># Space complexity: O(n¬≤)</span></code></pre>
                                </div>
                            </div>
                            <p><strong>Memory:</strong> For n=1000: 8,000,000 bytes (8MB)</p>
                        </div>
                    </div>
                </div>

                <!-- Space Complexity Comparison Table -->
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üìã</div>
                        <h3>Space Complexity Quick Reference</h3>
                    </div>
                    
                    <div class="reference-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Complexity</th>
                                    <th>Name</th>
                                    <th>Example Algorithm</th>
                                    <th>Memory for n=1000</th>
                                    <th>Memory for n=10000</th>
                                    <th>Use Case</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="complexity-badge" style="background: #3fb950;">O(1)</span></td>
                                    <td>Constant</td>
                                    <td>Variable swapping</td>
                                    <td>4 bytes</td>
                                    <td>4 bytes</td>
                                    <td>Simple operations</td>
                                </tr>
                                <tr>
                                    <td><span class="complexity-badge" style="background: #58a6ff;">O(log n)</span></td>
                                    <td>Logarithmic</td>
                                    <td>Binary search (recursive)</td>
                                    <td>~320 bytes</td>
                                    <td>~426 bytes</td>
                                    <td>Divide & conquer</td>
                                </tr>
                                <tr>
                                    <td><span class="complexity-badge" style="background: #e3b341;">O(n)</span></td>
                                    <td>Linear</td>
                                    <td>Array copy</td>
                                    <td>4 KB</td>
                                    <td>40 KB</td>
                                    <td>Single data structure</td>
                                </tr>
                                <tr>
                                    <td><span class="complexity-badge" style="background: #f78166;">O(n log n)</span></td>
                                    <td>Linearithmic</td>
                                    <td>Merge sort</td>
                                    <td>~40 KB</td>
                                    <td>~533 KB</td>
                                    <td>Efficient sorting</td>
                                </tr>
                                <tr>
                                    <td><span class="complexity-badge" style="background: #ff6b6b;">O(n¬≤)</span></td>
                                    <td>Quadratic</td>
                                    <td>2D matrix</td>
                                    <td>4 MB</td>
                                    <td>400 MB</td>
                                    <td>Graph adjacency matrix</td>
                                </tr>
                                <tr>
                                    <td><span class="complexity-badge" style="background: #bc8cff;">O(2‚Åø)</span></td>
                                    <td>Exponential</td>
                                    <td>Recursive fibonacci</td>
                                    <td>Astronomical!</td>
                                    <td>Impossible!</td>
                                    <td>Avoid if possible</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="space-optimization-tips">
                        <h4>üéØ Space Optimization Tips:</h4>
                        <div class="tips-grid">
                            <div class="tip-item">
                                <h4>üí° Use In-Place Algorithms</h4>
                                <p>Modify input data instead of creating copies when possible.</p>
                            </div>
                            <div class="tip-item">
                                <h4>üîÑ Iterative vs Recursive</h4>
                                <p>Iterative solutions often use O(1) space vs O(n) for recursion.</p>
                            </div>
                            <div class="tip-item">
                                <h4>üì¶ Data Structure Choice</h4>
                                <p>Arrays are more space-efficient than linked lists for the same data.</p>
                            </div>
                            <div class="tip-item">
                                <h4>üóúÔ∏è Memory Pooling</h4>
                                <p>Reuse memory allocations to reduce fragmentation and improve performance.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Practice Section -->
        <section id="practice">
            <div class="section-header" onclick="toggleSection('practice-content')">
                <div class="section-title">
                    <div class="section-icon">üéØ</div>
                    <div>
                        <h2>Practice & Quick Reference</h2>
                        <p style="margin: 0; font-size: 0.9rem; color: var(--text-muted);">Test your knowledge and reference guide</p>
                    </div>
                </div>
                <div class="expand-icon">‚ñº</div>
            </div>
            
            <div id="practice-content" class="collapsible-content active">
                <!-- Quick Reference Table -->
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üìã</div>
                        <h3>Algorithm Complexity Quick Reference</h3>
                    </div>
                    
                    <div class="reference-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Algorithm/Operation</th>
                                    <th>Best Case</th>
                                    <th>Average Case</th>
                                    <th>Worst Case</th>
                                    <th>Space</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Array Access</td>
                                    <td><span class="complexity-badge" style="background: #3fb950;">O(1)</span></td>
                                    <td><span class="complexity-badge" style="background: #3fb950;">O(1)</span></td>
                                    <td><span class="complexity-badge" style="background: #3fb950;">O(1)</span></td>
                                    <td><span class="complexity-badge" style="background: #3fb950;">O(1)</span></td>
                                </tr>
                                <tr>
                                    <td>Linear Search</td>
                                    <td><span class="complexity-badge" style="background: #3fb950;">O(1)</span></td>
                                    <td><span class="complexity-badge" style="background: #e3b341;">O(n)</span></td>
                                    <td><span class="complexity-badge" style="background: #e3b341;">O(n)</span></td>
                                    <td><span class="complexity-badge" style="background: #3fb950;">O(1)</span></td>
                                </tr>
                                <tr>
                                    <td>Binary Search</td>
                                    <td><span class="complexity-badge" style="background: #3fb950;">O(1)</span></td>
                                    <td><span class="complexity-badge" style="background: #58a6ff;">O(log n)</span></td>
                                    <td><span class="complexity-badge" style="background: #58a6ff;">O(log n)</span></td>
                                    <td><span class="complexity-badge" style="background: #3fb950;">O(1)</span></td>
                                </tr>
                                <tr>
                                    <td>Bubble Sort</td>
                                    <td><span class="complexity-badge" style="background: #e3b341;">O(n)</span></td>
                                    <td><span class="complexity-badge" style="background: #ff6b6b;">O(n¬≤)</span></td>
                                    <td><span class="complexity-badge" style="background: #ff6b6b;">O(n¬≤)</span></td>
                                    <td><span class="complexity-badge" style="background: #3fb950;">O(1)</span></td>
                                </tr>
                                <tr>
                                    <td>Quick Sort</td>
                                    <td><span class="complexity-badge" style="background: #f78166;">O(n log n)</span></td>
                                    <td><span class="complexity-badge" style="background: #f78166;">O(n log n)</span></td>
                                    <td><span class="complexity-badge" style="background: #ff6b6b;">O(n¬≤)</span></td>
                                    <td><span class="complexity-badge" style="background: #58a6ff;">O(log n)</span></td>
                                </tr>
                                <tr>
                                    <td>Merge Sort</td>
                                    <td><span class="complexity-badge" style="background: #f78166;">O(n log n)</span></td>
                                    <td><span class="complexity-badge" style="background: #f78166;">O(n log n)</span></td>
                                    <td><span class="complexity-badge" style="background: #f78166;">O(n log n)</span></td>
                                    <td><span class="complexity-badge" style="background: #e3b341;">O(n)</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Analysis Tips -->
                <div class="card">
                    <div class="card-header">
                        <div class="icon">üí°</div>
                        <h3>Complexity Analysis Tips</h3>
                    </div>
                    
                    <div class="tips-grid">
                        <div class="tip-item">
                            <h4>üîÑ Single Loop</h4>
                            <p>One loop through n elements = <span class="complexity-badge">O(n)</span></p>
                        </div>
                        <div class="tip-item">
                            <h4>üîÑüîÑ Nested Loops</h4>
                            <p>Loop inside loop = <span class="complexity-badge">O(n¬≤)</span></p>
                        </div>
                        <div class="tip-item">
                            <h4>‚úÇÔ∏è Divide by 2</h4>
                            <p>Cutting problem in half = <span class="complexity-badge">O(log n)</span></p>
                        </div>
                        <div class="tip-item">
                            <h4>üìû Recursion</h4>
                            <p>Use Master Theorem or draw recursion tree</p>
                        </div>
                        <div class="tip-item">
                            <h4>‚ùå Drop Constants</h4>
                            <p>3n + 5 becomes <span class="complexity-badge">O(n)</span></p>
                        </div>
                        <div class="tip-item">
                            <h4>üéØ Worst Case</h4>
                            <p>Focus on worst-case scenario for Big-O</p>
                        </div>
                    </div>
                </div>
                
                <!-- Memory Blocks Styling -->
                <style>
                    .memory-block {
                        display: inline-block;
                        width: 30px;
                        height: 30px;
                        border: 2px solid var(--accent-blue);
                        background: rgba(88, 166, 255, 0.2);
                        margin: 2px;
                        text-align: center;
                        line-height: 26px;
                        font-family: monospace;
                        font-weight: bold;
                        border-radius: 4px;
                    }
                    
                    .reference-table {
                        overflow-x: auto;
                        margin: 1rem 0;
                    }
                    
                    .reference-table table {
                        width: 100%;
                        border-collapse: collapse;
                        background: rgba(255, 255, 255, 0.05);
                        border-radius: 8px;
                        overflow: hidden;
                    }
                    
                    .reference-table th,
                    .reference-table td {
                        padding: 12px;
                        text-align: left;
                        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                    }
                    
                    .reference-table th {
                        background: rgba(0, 0, 0, 0.3);
                        font-weight: 600;
                        color: var(--accent-blue);
                    }
                    
                    .tips-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                        gap: 1rem;
                        margin: 1rem 0;
                    }
                    
                    .tip-item {
                        padding: 1rem;
                        background: rgba(255, 255, 255, 0.05);
                        border-radius: 8px;
                        border-left: 4px solid var(--accent-blue);
                    }
                    
                    .tip-item h4 {
                        margin: 0 0 0.5rem 0;
                        color: var(--accent-blue);
                    }
                    
                    .tip-item p {
                        margin: 0;
                        font-size: 0.9rem;
                    }
                    
                    .complexity-legend {
                        display: flex;
                        flex-wrap: wrap;
                        gap: 1rem;
                        margin-top: 1rem;
                        justify-content: center;
                    }
                    
                    .legend-item {
                        display: flex;
                        align-items: center;
                        gap: 0.5rem;
                        padding: 0.5rem 1rem;
                        background: rgba(255, 255, 255, 0.05);
                        border-radius: 25px;
                        cursor: pointer;
                        transition: all 0.3s ease;
                    }
                    
                    .legend-item:hover {
                        background: rgba(255, 255, 255, 0.1);
                        transform: translateY(-2px);
                    }
                    
                    .chart-container {
                        text-align: center;
                        padding: 1rem;
                    }
                    
                    #chart-canvas {
                        border: 1px solid rgba(255, 255, 255, 0.2);
                        border-radius: 8px;
                        background: rgba(0, 0, 0, 0.2);
                        max-width: 100%;
                        height: auto;
                    }
                    
                    /* New styles for enhanced content */
                    .complexity-section {
                        margin: 2rem 0;
                        padding: 1.5rem;
                        background: rgba(255, 255, 255, 0.03);
                        border-radius: 12px;
                        border-left: 4px solid var(--accent-blue);
                    }
                    
                    .memory-explanation {
                        margin-top: 1rem;
                        padding: 1rem;
                        background: rgba(88, 166, 255, 0.1);
                        border-radius: 8px;
                    }
                    
                    .memory-layout {
                        background: rgba(0, 0, 0, 0.3);
                        padding: 1rem;
                        border-radius: 8px;
                        margin: 1rem 0;
                        font-family: 'Courier New', monospace;
                        font-size: 0.9rem;
                    }
                    
                    .logarithmic-explanation {
                        margin-top: 1rem;
                        padding: 1rem;
                        background: rgba(88, 166, 255, 0.1);
                        border-radius: 8px;
                    }
                    
                    .logarithmic-explanation ul {
                        margin: 0.5rem 0;
                    }
                    
                    .rules-section {
                        margin-top: 2rem;
                    }
                    
                    .rule-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                        gap: 1.5rem;
                        margin: 1rem 0;
                    }
                    
                    .rule-item {
                        background: rgba(255, 255, 255, 0.05);
                        padding: 1.5rem;
                        border-radius: 12px;
                        border-left: 4px solid var(--accent-green);
                    }
                    
                    .rule-item h5 {
                        margin: 0 0 0.5rem 0;
                        color: var(--accent-green);
                        font-size: 1.1rem;
                    }
                    
                    .rule-item p {
                        margin: 0.5rem 0;
                        font-weight: 500;
                        color: var(--accent-blue);
                    }
                    
                    .rule-example {
                        margin-top: 1rem;
                        background: rgba(0, 0, 0, 0.3);
                        border-radius: 8px;
                        overflow: hidden;
                    }
                    
                    .rule-example pre {
                        margin: 0;
                        padding: 1rem;
                        font-size: 0.85rem;
                    }
                    
                    .space-types {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                        gap: 1rem;
                        margin: 1rem 0;
                    }
                    
                    .space-type-item {
                        background: rgba(255, 255, 255, 0.05);
                        padding: 1rem;
                        border-radius: 8px;
                        text-align: center;
                        border: 2px solid transparent;
                        transition: all 0.3s ease;
                    }
                    
                    .space-type-item:hover {
                        border-color: var(--accent-blue);
                        transform: translateY(-2px);
                    }
                    
                    .space-type-item h4 {
                        margin: 0 0 0.5rem 0;
                        color: var(--accent-blue);
                    }
                    
                    .space-type-item p {
                        margin: 0;
                        font-size: 0.9rem;
                        color: var(--text-muted);
                    }
                    
                    .stack-visualization {
                        margin: 1.5rem 0;
                        padding: 1rem;
                        background: rgba(255, 255, 255, 0.03);
                        border-radius: 8px;
                    }
                    
                    .stack-steps {
                        display: grid;
                        gap: 1rem;
                    }
                    
                    .stack-step {
                        padding: 1rem;
                        background: rgba(0, 0, 0, 0.2);
                        border-radius: 8px;
                    }
                    
                    .stack-frame {
                        margin: 0.5rem 0;
                        font-family: monospace;
                    }
                    
                    .frame {
                        background: rgba(88, 166, 255, 0.2);
                        border: 2px solid var(--accent-blue);
                        padding: 0.5rem 1rem;
                        margin: 2px 0;
                        text-align: center;
                        border-radius: 4px;
                        font-weight: bold;
                    }
                    
                    .pattern-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                        gap: 1.5rem;
                        margin: 1rem 0;
                    }
                    
                    .pattern-item {
                        background: rgba(255, 255, 255, 0.05);
                        padding: 1.5rem;
                        border-radius: 12px;
                        border-top: 4px solid var(--accent-blue);
                    }
                    
                    .pattern-item h4 {
                        margin: 0 0 0.5rem 0;
                        display: flex;
                        align-items: center;
                        gap: 0.5rem;
                    }
                    
                    .pattern-item p {
                        margin: 0.5rem 0 1rem 0;
                        color: var(--text-muted);
                    }
                    
                    .story-analogy {
                        background: rgba(255, 181, 107, 0.1);
                        padding: 1.5rem;
                        border-radius: 12px;
                        border-left: 4px solid #ffb56b;
                        margin: 1rem 0;
                    }
                    
                    .pitfall-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                        gap: 1.5rem;
                        margin: 1rem 0;
                    }
                    
                    .pitfall-item {
                        background: rgba(255, 107, 107, 0.1);
                        padding: 1.5rem;
                        border-radius: 12px;
                        border-left: 4px solid var(--accent-red);
                    }
                    
                    .pitfall-item h4 {
                        margin: 0 0 1rem 0;
                        color: var(--accent-red);
                    }
                    
                    /* Enhanced complexity badges */
                    .complexity-badge.o-1 { background: #3fb950; }
                    .complexity-badge.o-log-n { background: #58a6ff; }
                    .complexity-badge.o-n { background: #e3b341; }
                    .complexity-badge.o-n-log-n { background: #f78166; }
                    .complexity-badge.o-n2 { background: #ff6b6b; }
                    .complexity-badge.o-2n { background: #bc8cff; }
                    
                    /* Enhanced Space Complexity Styles */
                    .space-examples-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                        gap: 1.5rem;
                        margin: 2rem 0;
                    }

                    .space-example-item {
                        background: rgba(30, 38, 54, 0.5);
                        border-radius: var(--radius-md);
                        padding: 1.5rem;
                        border: 1px solid var(--border-color);
                        transition: transform var(--animation-speed) ease;
                    }

                    .space-example-item:hover {
                        transform: translateY(-5px);
                        border-color: var(--accent-blue);
                    }

                    .space-example-item h4 {
                        margin: 0 0 1rem 0;
                        color: var(--accent-blue);
                        font-size: 1.1rem;
                    }

                    .space-example-item p {
                        margin: 1rem 0 0 0;
                        font-weight: 600;
                        color: var(--accent-green);
                    }

                    .chart-description {
                        text-align: center;
                        margin-top: 1rem;
                        padding: 1rem;
                        background: rgba(88, 166, 255, 0.1);
                        border-radius: var(--radius-sm);
                        border-left: 4px solid var(--accent-blue);
                    }

                    .chart-description p {
                        margin: 0;
                        color: var(--text-secondary);
                    }

                    /* Enhanced Memory Visualization */
                    .space-analysis {
                        padding: 1rem 0;
                    }

                    .analysis-header {
                        font-size: 1.1rem;
                        margin-bottom: 1rem;
                        color: var(--accent-blue);
                    }

                    .space-breakdown {
                        margin: 1rem 0;
                    }

                    .space-item {
                        display: flex;
                        align-items: center;
                        gap: 1rem;
                        padding: 0.75rem;
                        margin: 0.5rem 0;
                        background: rgba(30, 38, 54, 0.3);
                        border-radius: var(--radius-sm);
                        border-left: 4px solid transparent;
                        transition: all var(--animation-speed) ease;
                    }

                    .space-item.constant {
                        border-left-color: #3fb950;
                    }

                    .space-item.linear {
                        border-left-color: #e3b341;
                    }

                    .space-item.quadratic {
                        border-left-color: #ff6b6b;
                    }

                    .space-item:hover {
                        background: rgba(30, 38, 54, 0.6);
                        transform: translateX(5px);
                    }

                    .space-item small {
                        display: block;
                        color: var(--text-muted);
                        font-size: 0.8rem;
                        margin-top: 0.25rem;
                    }

                    .space-total {
                        margin: 1.5rem 0;
                        padding: 1rem;
                        background: rgba(88, 166, 255, 0.1);
                        border-radius: var(--radius-sm);
                        border: 1px solid var(--accent-blue);
                        text-align: center;
                    }

                    .complexity-note {
                        margin-top: 0.5rem;
                    }

                    .warning-note {
                        margin: 1rem 0;
                        padding: 1rem;
                        background: rgba(255, 107, 107, 0.1);
                        border-radius: var(--radius-sm);
                        border-left: 4px solid var(--accent-red);
                        color: var(--accent-red);
                    }

                    .memory-visual {
                        margin: 1.5rem 0;
                    }

                    .memory-visual h4 {
                        margin: 0 0 1rem 0;
                        color: var(--accent-blue);
                    }

                    .memory-section {
                        margin: 1rem 0;
                        padding: 1rem;
                        background: rgba(30, 38, 54, 0.3);
                        border-radius: var(--radius-sm);
                    }

                    .memory-label {
                        margin-bottom: 0.5rem;
                        color: var(--text-primary);
                        font-weight: 600;
                    }

                    .memory-blocks {
                        display: flex;
                        flex-wrap: wrap;
                        gap: 4px;
                        align-items: center;
                    }

                    .memory-block {
                        display: inline-block;
                        width: 35px;
                        height: 35px;
                        border: 1px solid var(--border-color);
                        background: var(--secondary-bg);
                        margin: 2px;
                        text-align: center;
                        line-height: 33px;
                        font-size: 0.7rem;
                        font-family: 'JetBrains Mono', monospace;
                        border-radius: 4px;
                        transition: all var(--animation-speed) ease;
                        cursor: help;
                    }

                    .memory-block.constant {
                        background: rgba(63, 185, 80, 0.2);
                        border-color: #3fb950;
                        color: #3fb950;
                    }

                    .memory-block.linear {
                        background: rgba(227, 179, 65, 0.2);
                        border-color: #e3b341;
                        color: #e3b341;
                    }

                    .memory-block.quadratic {
                        background: rgba(255, 107, 107, 0.2);
                        border-color: #ff6b6b;
                        color: #ff6b6b;
                    }

                    .memory-block:hover {
                        transform: scale(1.1);
                        z-index: 10;
                        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
                    }

                    .memory-ellipsis {
                        color: var(--text-muted);
                        font-style: italic;
                        margin: 0 0.5rem;
                    }

                    .matrix-row {
                        display: flex;
                        gap: 2px;
                        margin: 2px 0;
                    }

                    .matrix-ellipsis {
                        text-align: center;
                        color: var(--text-muted);
                        font-style: italic;
                        margin: 0.5rem 0;
                    }

                    /* Canvas styling for space chart */
                    #space-chart-canvas {
                        border: 1px solid var(--border-color);
                        border-radius: var(--radius-sm);
                        background: var(--code-bg);
                        max-width: 100%;
                        height: auto;
                    }
                    .memory-intro {
                        background: rgba(58, 166, 255, 0.1);
                        padding: 1.5rem;
                        border-radius: 12px;
                        border-left: 4px solid #3aa6ff;
                        margin: 1rem 0;
                    }
                    
                    .memory-deep-dive {
                        margin: 2rem 0;
                    }
                    
                    .memory-section {
                        margin: 1.5rem 0;
                        padding: 1.5rem;
                        background: rgba(255, 255, 255, 0.03);
                        border-radius: 12px;
                    }
                    
                    .memory-characteristics ul {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                        gap: 0.5rem;
                        margin: 1rem 0;
                    }
                    
                    .memory-characteristics li {
                        background: rgba(255, 255, 255, 0.05);
                        padding: 0.8rem;
                        border-radius: 8px;
                        font-size: 0.9rem;
                    }
                    
                    .comparison-table {
                        overflow-x: auto;
                        margin: 1rem 0;
                    }
                    
                    .space-complexity-intro {
                        background: rgba(255, 181, 107, 0.1);
                        padding: 1.5rem;
                        border-radius: 12px;
                        border-left: 4px solid #ffb56b;
                        margin: 1rem 0;
                    }
                    
                    .space-types-detailed {
                        display: grid;
                        gap: 1.5rem;
                        margin: 2rem 0;
                    }
                    
                    .space-type-detailed {
                        background: rgba(255, 255, 255, 0.03);
                        padding: 1.5rem;
                        border-radius: 12px;
                        border-left: 4px solid var(--accent-blue);
                    }
                    
                    .space-type-detailed h4 {
                        margin: 0 0 1rem 0;
                        color: var(--accent-blue);
                        font-size: 1.2rem;
                    }
                    
                    .space-explanation {
                        margin: 1rem 0;
                    }
                    
                    .space-explanation p {
                        margin: 0.5rem 0;
                    }
                    
                    .space-explanation ul {
                        margin: 0.5rem 0;
                        padding-left: 1.5rem;
                    }
                    
                    .detailed-example {
                        margin: 2rem 0;
                        padding: 1.5rem;
                        background: rgba(0, 0, 0, 0.2);
                        border-radius: 12px;
                        border-top: 4px solid var(--accent-green);
                    }
                    
                    .memory-calculation {
                        margin: 2rem 0;
                        padding: 1.5rem;
                        background: rgba(255, 107, 107, 0.1);
                        border-radius: 12px;
                        border-left: 4px solid var(--accent-red);
                    }
                    
                    .calculation-examples {
                        display: grid;
                        gap: 1.5rem;
                        margin: 1rem 0;
                    }
                    
                    .calc-example {
                        background: rgba(255, 255, 255, 0.05);
                        padding: 1.5rem;
                        border-radius: 8px;
                    }
                    
                    .calc-example h5 {
                        margin: 0 0 1rem 0;
                        color: var(--accent-blue);
                    }
                    
                    .scaling-table {
                        overflow-x: auto;
                        margin: 1rem 0;
                    }
                    
                    .recursion-intro {
                        background: rgba(255, 181, 107, 0.1);
                        padding: 1.5rem;
                        border-radius: 12px;
                        border-left: 4px solid #ffb56b;
                        margin: 1rem 0;
                    }
                    
                    .recursion-examples {
                        margin: 2rem 0;
                    }
                    
                    .stack-visualization-detailed {
                        margin: 2rem 0;
                        padding: 1.5rem;
                        background: rgba(255, 255, 255, 0.03);
                        border-radius: 12px;
                    }
                    
                    .stack-steps-detailed {
                        display: grid;
                        gap: 2rem;
                        margin: 1rem 0;
                    }
                    
                    .stack-step-detailed {
                        background: rgba(0, 0, 0, 0.2);
                        padding: 1.5rem;
                        border-radius: 12px;
                        border-left: 4px solid var(--accent-blue);
                    }
                    
                    .stack-frame-detailed {
                        margin: 1rem 0;
                        display: grid;
                        gap: 0.5rem;
                    }
                    
                    .frame-detailed {
                        background: rgba(58, 166, 255, 0.1);
                        border: 2px solid var(--accent-blue);
                        border-radius: 8px;
                        overflow: hidden;
                        transition: all 0.3s ease;
                    }
                    
                    .frame-detailed.active {
                        border-color: var(--accent-green);
                        background: rgba(63, 185, 80, 0.1);
                    }
                    
                    .frame-header {
                        background: rgba(0, 0, 0, 0.3);
                        padding: 0.8rem;
                        font-weight: bold;
                        font-family: monospace;
                        text-align: center;
                        color: var(--accent-blue);
                    }
                    
                    .frame-detailed.active .frame-header {
                        color: var(--accent-green);
                    }
                    
                    .frame-content {
                        padding: 1rem;
                        font-family: monospace;
                        font-size: 0.9rem;
                    }
                    
                    .frame-content div {
                        margin: 0.3rem 0;
                        padding: 0.2rem 0.5rem;
                        background: rgba(255, 255, 255, 0.05);
                        border-radius: 4px;
                    }
                    
                    .memory-usage {
                        text-align: center;
                        margin-top: 1rem;
                        padding: 0.5rem;
                        background: rgba(255, 107, 107, 0.1);
                        border-radius: 8px;
                        color: var(--accent-red);
                        font-weight: bold;
                    }
                    
                    .stack-summary {
                        background: rgba(63, 185, 80, 0.1);
                        padding: 1.5rem;
                        border-radius: 12px;
                        border-left: 4px solid var(--accent-green);
                    }
                    
                    .stack-summary p {
                        margin: 0.5rem 0;
                        font-size: 1.1rem;
                    }
                    
                    .recursion-guidelines {
                        margin: 2rem 0;
                        padding: 1.5rem;
                        background: rgba(255, 107, 107, 0.1);
                        border-radius: 12px;
                        border-left: 4px solid var(--accent-red);
                    }
                    
                    .guidelines-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                        gap: 1.5rem;
                        margin: 1rem 0;
                    }
                    
                    .guideline-item {
                        background: rgba(255, 255, 255, 0.05);
                        padding: 1.5rem;
                        border-radius: 12px;
                    }
                    
                    .guideline-item h5 {
                        margin: 0 0 1rem 0;
                        font-size: 1.1rem;
                    }
                    
                    .guideline-item ul {
                        margin: 0;
                        padding-left: 1.5rem;
                    }
                    
                    .guideline-item li {
                        margin: 0.5rem 0;
                        font-size: 0.9rem;
                    }
                </style>
            </div>
        </section>
    </main>
    
    <footer>
        <div class="container">
            <p>¬© 2025 DS-Rio | Time & Space Complexity Analysis Tutorial</p>
        </div>
    </footer>

    <script>
        // Progress bar functionality
        window.onscroll = function() {
            let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            let scrolled = (winScroll / height) * 100;
            document.getElementById("progressBar").style.width = scrolled + "%";
        };

        // Toggle collapsible sections
        function toggleSection(sectionId) {
            const content = document.getElementById(sectionId);
            const header = content.previousElementSibling;
            
            content.classList.toggle('active');
            header.classList.toggle('active');
        }

        // Linear search simulation
        function simulateLinearSearch() {
            const output = document.getElementById('search-output');
            const books = 1000;
            const targetPosition = Math.floor(Math.random() * books) + 1;
            
            output.innerHTML = `
                <div><strong>Linear Search Simulation:</strong></div>
                <div>üìö Searching through ${books} books...</div>
                <div>üéØ Target book found at position: ${targetPosition}</div>
                <div>üìä Checks required: ${targetPosition}</div>
                <div>‚è±Ô∏è Time Complexity: O(n)</div>
            `;
        }

        // Binary search simulation
        function simulateBinarySearch() {
            const output = document.getElementById('search-output');
            const books = 1000;
            const checks = Math.ceil(Math.log2(books));
            
            output.innerHTML = `
                <div><strong>Binary Search Simulation:</strong></div>
                <div>üìö Searching through ${books} books (sorted)...</div>
                <div>üéØ Using divide and conquer strategy</div>
                <div>üìä Maximum checks required: ${checks}</div>
                <div>‚è±Ô∏è Time Complexity: O(log n)</div>
                <div>üöÄ ${Math.floor(books/checks)}x faster than linear search!</div>
            `;
        }

        // Reset search simulation
        function resetSearch() {
            const output = document.getElementById('search-output');
            output.innerHTML = `
                <div><strong>Method 1: Linear Search (Check every book)</strong></div>
                <div>‚Ä¢ Best case: The book is first (1 check)</div>
                <div>‚Ä¢ Worst case: The book is last (1,000 checks)</div>
                <div>‚Ä¢ Average: Around 500 checks</div>
                <br>
                <div><strong>Method 2: Binary Search (Divide and conquer)</strong></div>
                <div>‚Ä¢ Start in middle, eliminate half</div>
                <div>‚Ä¢ Then middle of remaining half, eliminate half again</div>
                <div>‚Ä¢ Maximum checks: Only 10! (because 2^10 = 1,024)</div>
            `;
        }

        // Prime algorithm comparison
        function testPrimeAlgorithms() {
            const n = parseInt(document.getElementById('prime-input').value);
            const output = document.getElementById('prime-output');
            
            if (n < 2) {
                output.innerHTML = '<div style="color: var(--accent-red);">Please enter a number ‚â• 2</div>';
                return;
            }
            
            // Simulate operation counts (not actual execution)
            const slowOperations = n - 2;
            const fastOperations = Math.floor(Math.sqrt(n)) - 1;
            const speedup = Math.floor(slowOperations / fastOperations);
            
            output.innerHTML = `
                <div><strong>Prime Check Comparison for n = ${n.toLocaleString()}:</strong></div>
                <br>
                <div><strong>Slow Method (O(n)):</strong></div>
                <div>‚Ä¢ Operations: ${slowOperations.toLocaleString()}</div>
                <div>‚Ä¢ Checks every number from 2 to ${(n-1).toLocaleString()}</div>
                <br>
                <div><strong>Fast Method (O(‚àön)):</strong></div>
                <div>‚Ä¢ Operations: ${fastOperations.toLocaleString()}</div>
                <div>‚Ä¢ Only checks up to ‚àö${n} = ${Math.floor(Math.sqrt(n))}</div>
                <br>
                <div style="color: var(--accent-green);"><strong>üöÄ Speedup: ${speedup}x faster!</strong></div>
            `;
        }

        // Operation counter
        function countOperations() {
            const n = parseInt(document.getElementById('operation-n').value);
            const output = document.getElementById('operation-output');
            
            const operations = 3 * n + 3;
            
            output.innerHTML = `
                <div><strong>Operation Count for n = ${n}:</strong></div>
                <div>‚Ä¢ total = 0: 1 operation</div>
                <div>‚Ä¢ for loop setup and checks: ${n + 1} operations</div>
                <div>‚Ä¢ additions and assignments: ${2 * n} operations</div>
                <div>‚Ä¢ return statement: 1 operation</div>
                <br>
                <div><strong>Total: 1 + ${n + 1} + ${2 * n} + 1 = ${operations} operations</strong></div>
                <div>In Big-O notation: O(${n}) ‚âà O(n)</div>
            `;
        }

        // Complexity chart visualization
        // Space complexity chart initialization
        function initializeSpaceChart() {
            const canvas = document.getElementById('space-chart-canvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            // Clear canvas
            ctx.clearRect(0, 0, width, height);
            
            // Draw grid
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
            ctx.lineWidth = 1;
            
            // Vertical grid lines
            for (let x = 0; x <= width; x += 50) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, height);
                ctx.stroke();
            }
            
            // Horizontal grid lines
            for (let y = 0; y <= height; y += 30) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(width, y);
                ctx.stroke();
            }
            
            // Draw axes
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(50, height - 50);
            ctx.lineTo(width - 20, height - 50);
            ctx.moveTo(50, height - 50);
            ctx.lineTo(50, 20);
            ctx.stroke();
            
            // Add axis labels
            ctx.fillStyle = '#c9d1d9';
            ctx.font = '12px Inter, sans-serif';
            ctx.fillText('Input Size (n)', width / 2 - 30, height - 10);
            ctx.save();
            ctx.translate(15, height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Memory Usage (bytes)', -50, 0);
            ctx.restore();
            
            // Space complexity curves with accurate scaling
            const maxN = 100;
            const colors = {
                'O(1)': '#3fb950',
                'O(log n)': '#58a6ff', 
                'O(n)': '#e3b341',
                'O(n log n)': '#f78166',
                'O(n¬≤)': '#ff6b6b',
                'O(2‚Åø)': '#bc8cff'
            };
            
            Object.entries(colors).forEach(([complexity, color]) => {
                ctx.strokeStyle = color;
                ctx.lineWidth = 3;
                ctx.beginPath();
                
                let firstPoint = true;
                for (let x = 1; x <= maxN; x++) {
                    let y;
                    
                    // Calculate accurate space complexity values
                    switch (complexity) {
                        case 'O(1)': 
                            y = 4; // 4 bytes constant
                            break;
                        case 'O(log n)': 
                            y = Math.log2(x) * 32; // 32 bytes per stack frame
                            break;
                        case 'O(n)': 
                            y = x * 4; // 4 bytes per element
                            break;
                        case 'O(n log n)': 
                            y = x * Math.log2(x) * 4; // Merge sort space
                            break;
                        case 'O(n¬≤)': 
                            y = x * x * 4; // Matrix space
                            break;
                        case 'O(2‚Åø)': 
                            // Limit exponential to prevent overflow
                            y = x <= 15 ? Math.pow(2, x) * 4 : height - 60;
                            break;
                    }
                    
                    // Scale to fit canvas, with logarithmic scaling for better visibility
                    const plotX = 50 + ((x - 1) / (maxN - 1)) * (width - 70);
                    const scaledY = Math.min(Math.log10(y + 1) * 80, height - 60);
                    const plotY = height - 50 - scaledY;
                    
                    if (firstPoint) {
                        ctx.moveTo(plotX, plotY);
                        firstPoint = false;
                    } else {
                        ctx.lineTo(plotX, plotY);
                    }
                }
                ctx.stroke();
            });
            
            // Add scale indicators
            ctx.fillStyle = '#8b949e';
            ctx.font = '10px Inter, sans-serif';
            const scalePoints = [1, 10, 100, 1000, 10000, 100000];
            scalePoints.forEach((value, index) => {
                const y = height - 50 - (Math.log10(value + 1) * 80);
                if (y > 20 && y < height - 60) {
                    ctx.fillText(value + ' bytes', 5, y + 3);
                }
            });
        }

        function initializeChart() {
            const canvas = document.getElementById('chart-canvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            // Clear canvas
            ctx.clearRect(0, 0, width, height);
            
            // Draw time complexity curves (for the main chart)
            const maxN = 50;
            const colors = {
                'O(1)': '#3fb950',
                'O(log n)': '#58a6ff',
                'O(n)': '#e3b341',
                'O(n log n)': '#f78166',
                'O(n¬≤)': '#ff6b6b',
                'O(2‚Åø)': '#bc8cff'
            };
            
            Object.entries(colors).forEach(([complexity, color]) => {
                ctx.strokeStyle = color;
                ctx.lineWidth = 3;
                ctx.beginPath();
                
                for (let x = 1; x <= maxN; x++) {
                    let y;
                    switch (complexity) {
                        case 'O(1)': y = 10; break;
                        case 'O(log n)': y = Math.log2(x) * 20; break;
                        case 'O(n)': y = x * 4; break;
                        case 'O(n log n)': y = x * Math.log2(x) * 2; break;
                        case 'O(n¬≤)': y = x * x * 0.5; break;
                        case 'O(2‚Åø)': y = Math.min(Math.pow(2, x * 0.3), height - 10); break;
                    }
                    
                    const plotX = (x / maxN) * width;
                    const plotY = height - Math.min(y, height - 10);
                    
                    if (x === 1) {
                        ctx.moveTo(plotX, plotY);
                    } else {
                        ctx.lineTo(plotX, plotY);
                    }
                }
                ctx.stroke();
            });
        }

        // Binary search detailed simulation
        function simulateBinarySearchDetailed() {
            const arrayInput = document.getElementById('binary-array').value;
            const target = parseInt(document.getElementById('binary-target').value);
            const output = document.getElementById('binary-search-output');
            
            const arr = arrayInput.split(',').map(x => parseInt(x.trim()));
            let left = 0;
            let right = arr.length - 1;
            let steps = 0;
            let result = '';
            
            result += `<div><strong>Binary Search for ${target} in [${arr.join(', ')}]:</strong></div><br>`;
            
            while (left <= right && steps < 10) {
                steps++;
                const mid = Math.floor((left + right) / 2);
                result += `<div><strong>Step ${steps}:</strong> Check index ${mid}, value ${arr[mid]}</div>`;
                
                if (arr[mid] === target) {
                    result += `<div style="color: var(--accent-green);">‚úÖ Found ${target} at index ${mid} in ${steps} steps!</div>`;
                    break;
                } else if (arr[mid] < target) {
                    result += `<div>${arr[mid]} < ${target}, search right half</div>`;
                    left = mid + 1;
                } else {
                    result += `<div>${arr[mid]} > ${target}, search left half</div>`;
                    right = mid - 1;
                }
                result += '<br>';
            }
            
            if (left > right) {
                result += `<div style="color: var(--accent-red);">‚ùå ${target} not found after ${steps} steps</div>`;
            }
            
            output.innerHTML = result;
        }

        // Algorithm comparison
        function compareAlgorithms() {
            const algorithm = document.getElementById('algorithm-select').value;
            const n = parseInt(document.getElementById('comparison-n').value);
            const output = document.getElementById('comparison-output');
            
            let operations, complexity, description;
            
            switch (algorithm) {
                case 'linear':
                    operations = n;
                    complexity = 'O(n)';
                    description = 'Must check each element once';
                    break;
                case 'binary':
                    operations = Math.ceil(Math.log2(n));
                    complexity = 'O(log n)';
                    description = 'Eliminates half the search space each step';
                    break;
                case 'bubble':
                    operations = n * n;
                    complexity = 'O(n¬≤)';
                    description = 'Compares every pair of elements';
                    break;
                case 'merge':
                    operations = n * Math.ceil(Math.log2(n));
                    complexity = 'O(n log n)';
                    description = 'Divides problem and merges solutions';
                    break;
            }
            
            output.innerHTML = `
                <div><strong>${algorithm.charAt(0).toUpperCase() + algorithm.slice(1)} Algorithm Analysis:</strong></div>
                <div>Input size (n): ${n.toLocaleString()}</div>
                <div>Estimated operations: ${operations.toLocaleString()}</div>
                <div>Time complexity: <span class="complexity-badge">${complexity}</span></div>
                <div>Explanation: ${description}</div>
            `;
        }

        // Enhanced space usage visualization with accurate memory calculations
        function visualizeSpaceUsage() {
            const n = parseInt(document.getElementById('space-n').value);
            const output = document.getElementById('space-output');
            const visualization = document.getElementById('memory-visualization');
            
            if (!n || n < 1) {
                output.innerHTML = '<div style="color: var(--accent-red);">Please enter a valid positive number</div>';
                return;
            }
            
            // Calculate actual memory usage in bytes
            const intSize = 4; // 32-bit integer
            const pointerSize = 8; // 64-bit pointer
            
            // Space calculations for the example function
            const variables_space = 2 * intSize; // total, count
            const array_space = n * intSize; // arr_copy
            const matrix_space = n * n * intSize; // matrix
            const total_space = variables_space + array_space + matrix_space;
            
            // Calculate actual megabytes for large numbers
            const formatBytes = (bytes) => {
                if (bytes < 1024) return bytes + ' bytes';
                if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
                if (bytes < 1024 * 1024 * 1024) return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
                return (bytes / (1024 * 1024 * 1024)).toFixed(1) + ' GB';
            };
            
            output.innerHTML = `
                <div class="space-analysis">
                    <div class="analysis-header"><strong>üìä Memory Analysis for n = ${n.toLocaleString()}:</strong></div>
                    
                    <div class="space-breakdown">
                        <div class="space-item constant">
                            <span class="complexity-badge" style="background: #3fb950;">O(1)</span>
                            <strong>Variables:</strong> ${formatBytes(variables_space)}
                            <small>(2 integers: total, count)</small>
                        </div>
                        
                        <div class="space-item linear">
                            <span class="complexity-badge" style="background: #e3b341;">O(n)</span>
                            <strong>Array copy:</strong> ${formatBytes(array_space)}
                            <small>(${n.toLocaleString()} integers √ó 4 bytes each)</small>
                        </div>
                        
                        <div class="space-item quadratic">
                            <span class="complexity-badge" style="background: #ff6b6b;">O(n¬≤)</span>
                            <strong>Matrix:</strong> ${formatBytes(matrix_space)}
                            <small>(${n.toLocaleString()} √ó ${n.toLocaleString()} = ${(n*n).toLocaleString()} integers)</small>
                        </div>
                    </div>
                    
                    <div class="space-total">
                        <strong>üî¢ Total Auxiliary Space: ${formatBytes(total_space)}</strong>
                        <div class="complexity-note">
                            <small>Space Complexity: <span class="complexity-badge" style="background: #ff6b6b;">O(n¬≤)</span> (dominated by matrix)</small>
                        </div>
                    </div>
                    
                    ${n > 1000 ? `
                    <div class="warning-note">
                        <strong>‚ö†Ô∏è Memory Warning:</strong> For n > 1000, matrix uses significant memory!
                        <br>At n = 10,000: Matrix alone would use ~400MB
                    </div>
                    ` : ''}
                </div>
            `;
            
            // Enhanced visual representation
            if (visualization) {
                let memoryHtml = '<div class="memory-visual"><h4>üîç Memory Layout Visualization:</h4>';
                
                memoryHtml += '<div class="memory-section">';
                memoryHtml += '<div class="memory-label"><strong>Variables (O(1)):</strong></div>';
                memoryHtml += '<div class="memory-blocks">';
                for (let i = 0; i < 2; i++) {
                    memoryHtml += `<span class="memory-block constant" title="Variable ${i + 1}">V${i + 1}</span>`;
                }
                memoryHtml += '</div></div>';
                
                memoryHtml += '<div class="memory-section">';
                memoryHtml += '<div class="memory-label"><strong>Array (O(n)):</strong></div>';
                memoryHtml += '<div class="memory-blocks">';
                const arrayDisplayLimit = Math.min(n, 20);
                for (let i = 0; i < arrayDisplayLimit; i++) {
                    memoryHtml += `<span class="memory-block linear" title="Array[${i}]">${i}</span>`;
                }
                if (n > 20) {
                    memoryHtml += '<span class="memory-ellipsis">... +' + (n - 20) + ' more</span>';
                }
                memoryHtml += '</div></div>';
                
                memoryHtml += '<div class="memory-section">';
                memoryHtml += '<div class="memory-label"><strong>Matrix (O(n¬≤)) - Sample rows:</strong></div>';
                memoryHtml += '<div class="memory-blocks">';
                const matrixDisplayLimit = Math.min(n, 8);
                for (let row = 0; row < Math.min(3, n); row++) {
                    memoryHtml += '<div class="matrix-row">';
                    for (let col = 0; col < matrixDisplayLimit; col++) {
                        memoryHtml += `<span class="memory-block quadratic" title="Matrix[${row}][${col}]">${row},${col}</span>`;
                    }
                    if (n > 8) {
                        memoryHtml += '<span class="memory-ellipsis">...</span>';
                    }
                    memoryHtml += '</div>';
                }
                if (n > 3) {
                    memoryHtml += '<div class="matrix-ellipsis">... +' + (n - 3) + ' more rows</div>';
                }
                memoryHtml += '</div></div>';
                
                memoryHtml += '</div>';
                visualization.innerHTML = memoryHtml;
            }
        }

        // Highlight space complexity function
        function highlightSpaceComplexity(complexity) {
            console.log('Highlighting space complexity:', complexity);
            // Add visual feedback
            const legends = document.querySelectorAll('.legend-item');
            legends.forEach(item => {
                item.style.opacity = '0.5';
                if (item.textContent.includes(complexity)) {
                    item.style.opacity = '1';
                    item.style.transform = 'scale(1.05)';
                    setTimeout(() => {
                        item.style.transform = 'scale(1)';
                    }, 200);
                }
            });
            
            setTimeout(() => {
                legends.forEach(item => {
                    item.style.opacity = '1';
                });
            }, 1500);
        }

        // Initialize charts when page loads
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                initializeChart();
                initializeSpaceChart();
            }, 100);
        });

        // Highlight complexity function (for main chart)
        function highlightComplexity(complexity) {
            console.log('Highlighting time complexity:', complexity);
            // Add visual feedback similar to space complexity
            highlightSpaceComplexity(complexity);
        }
    </script>
</body>
</html>